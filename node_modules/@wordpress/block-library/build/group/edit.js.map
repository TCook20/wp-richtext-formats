{"version":3,"names":["_data","require","_blockEditor","_components","_i18n","_primitives","_placeholder","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","GroupEditControls","tagName","onSelectTagName","htmlElementMessages","header","__","main","section","article","aside","footer","_element","createElement","InspectorControls","group","SelectControl","__nextHasNoMarginBottom","label","options","value","onChange","help","GroupEdit","attributes","name","setAttributes","clientId","__unstableLayoutClassNames","layoutClassNames","hasInnerBlocks","themeSupportsLayout","useSelect","select","getBlock","getSettings","blockEditorStore","block","innerBlocks","length","supportsLayout","TagName","templateLock","allowedBlocks","layout","defaultLayout","useSetting","usedLayout","type","layoutSupportEnabled","blockProps","useBlockProps","className","showPlaceholder","setShowPlaceholder","useShouldShowPlaceHolder","usedLayoutType","renderAppender","InnerBlocks","ButtonBlockAppender","innerBlocksProps","useInnerBlocksProps","__unstableDisableLayoutClassNames","selectBlock","useDispatch","selectVariation","nextVariation","Fragment","View","children","onSelect","_default","exports"],"sources":["@wordpress/block-library/src/group/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tInnerBlocks,\n\tuseBlockProps,\n\tInspectorControls,\n\tuseInnerBlocksProps,\n\tuseSetting,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { SelectControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { View } from '@wordpress/primitives';\n\n/**\n * Internal dependencies\n */\nimport GroupPlaceHolder, { useShouldShowPlaceHolder } from './placeholder';\n\n/**\n * Render inspector controls for the Group block.\n *\n * @param {Object}   props                 Component props.\n * @param {string}   props.tagName         The HTML tag name.\n * @param {Function} props.onSelectTagName onChange function for the SelectControl.\n *\n * @return {JSX.Element}                The control group.\n */\nfunction GroupEditControls( { tagName, onSelectTagName } ) {\n\tconst htmlElementMessages = {\n\t\theader: __(\n\t\t\t'The <header> element should represent introductory content, typically a group of introductory or navigational aids.'\n\t\t),\n\t\tmain: __(\n\t\t\t'The <main> element should be used for the primary content of your document only. '\n\t\t),\n\t\tsection: __(\n\t\t\t\"The <section> element should represent a standalone portion of the document that can't be better represented by another element.\"\n\t\t),\n\t\tarticle: __(\n\t\t\t'The <article> element should represent a self-contained, syndicatable portion of the document.'\n\t\t),\n\t\taside: __(\n\t\t\t\"The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.\"\n\t\t),\n\t\tfooter: __(\n\t\t\t'The <footer> element should represent a footer for its nearest sectioning element (e.g.: <section>, <article>, <main> etc.).'\n\t\t),\n\t};\n\treturn (\n\t\t<InspectorControls group=\"advanced\">\n\t\t\t<SelectControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'HTML element' ) }\n\t\t\t\toptions={ [\n\t\t\t\t\t{ label: __( 'Default (<div>)' ), value: 'div' },\n\t\t\t\t\t{ label: '<header>', value: 'header' },\n\t\t\t\t\t{ label: '<main>', value: 'main' },\n\t\t\t\t\t{ label: '<section>', value: 'section' },\n\t\t\t\t\t{ label: '<article>', value: 'article' },\n\t\t\t\t\t{ label: '<aside>', value: 'aside' },\n\t\t\t\t\t{ label: '<footer>', value: 'footer' },\n\t\t\t\t] }\n\t\t\t\tvalue={ tagName }\n\t\t\t\tonChange={ onSelectTagName }\n\t\t\t\thelp={ htmlElementMessages[ tagName ] }\n\t\t\t/>\n\t\t</InspectorControls>\n\t);\n}\n\nfunction GroupEdit( {\n\tattributes,\n\tname,\n\tsetAttributes,\n\tclientId,\n\t__unstableLayoutClassNames: layoutClassNames,\n} ) {\n\tconst { hasInnerBlocks, themeSupportsLayout } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock, getSettings } = select( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\t\t\treturn {\n\t\t\t\thasInnerBlocks: !! ( block && block.innerBlocks.length ),\n\t\t\t\tthemeSupportsLayout: getSettings()?.supportsLayout,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst {\n\t\ttagName: TagName = 'div',\n\t\ttemplateLock,\n\t\tallowedBlocks,\n\t\tlayout = {},\n\t} = attributes;\n\n\t// Layout settings.\n\tconst defaultLayout = useSetting( 'layout' ) || {};\n\tconst usedLayout = ! layout?.type\n\t\t? { ...defaultLayout, ...layout, type: 'default' }\n\t\t: { ...defaultLayout, ...layout };\n\tconst { type = 'default' } = usedLayout;\n\tconst layoutSupportEnabled =\n\t\tthemeSupportsLayout || type === 'flex' || type === 'grid';\n\n\t// Hooks.\n\tconst blockProps = useBlockProps( {\n\t\tclassName: ! layoutSupportEnabled ? layoutClassNames : null,\n\t} );\n\tconst [ showPlaceholder, setShowPlaceholder ] = useShouldShowPlaceHolder( {\n\t\tattributes,\n\t\tusedLayoutType: usedLayout?.type,\n\t\thasInnerBlocks,\n\t} );\n\n\t// Default to the regular appender being rendered.\n\tlet renderAppender;\n\tif ( showPlaceholder ) {\n\t\t// In the placeholder state, ensure the appender is not rendered.\n\t\t// This is needed because `...innerBlocksProps` is used in the placeholder\n\t\t// state so that blocks can dragged onto the placeholder area\n\t\t// from both the list view and in the editor canvas.\n\t\trenderAppender = false;\n\t} else if ( ! hasInnerBlocks ) {\n\t\t// When there is no placeholder, but the block is also empty,\n\t\t// use the larger button appender.\n\t\trenderAppender = InnerBlocks.ButtonBlockAppender;\n\t}\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\tlayoutSupportEnabled\n\t\t\t? blockProps\n\t\t\t: { className: 'wp-block-group__inner-container' },\n\t\t{\n\t\t\ttemplateLock,\n\t\t\tallowedBlocks,\n\t\t\trenderAppender,\n\t\t\t__unstableDisableLayoutClassNames: ! layoutSupportEnabled,\n\t\t}\n\t);\n\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\tconst selectVariation = ( nextVariation ) => {\n\t\tsetAttributes( nextVariation.attributes );\n\t\tselectBlock( clientId, -1 );\n\t\tsetShowPlaceholder( false );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<GroupEditControls\n\t\t\t\ttagName={ TagName }\n\t\t\t\tonSelectTagName={ ( value ) =>\n\t\t\t\t\tsetAttributes( { tagName: value } )\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{ showPlaceholder && (\n\t\t\t\t<View>\n\t\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t\t<GroupPlaceHolder\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\tonSelect={ selectVariation }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t\t{ layoutSupportEnabled && ! showPlaceholder && (\n\t\t\t\t<TagName { ...innerBlocksProps } />\n\t\t\t) }\n\t\t\t{ /* Ideally this is not needed but it's there for backward compatibility reason\n\t\t\t\tto keep this div for themes that might rely on its presence */ }\n\t\t\t{ ! layoutSupportEnabled && ! showPlaceholder && (\n\t\t\t\t<TagName { ...blockProps }>\n\t\t\t\t\t<div { ...innerBlocksProps } />\n\t\t\t\t</TagName>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default GroupEdit;\n"],"mappings":"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"}