{"version":3,"names":["_element","require","_classnames","_interopRequireDefault","_keycodes","_data","_blockEditor","_components","_i18n","_icons","_socialList","SocialLinkURLPopover","url","setAttributes","setPopover","popoverAnchor","clientId","removeBlock","useDispatch","blockEditorStore","createElement","URLPopover","anchor","onClose","className","onSubmit","event","preventDefault","URLInput","__nextHasNoMarginBottom","value","onChange","nextURL","placeholder","__","disableSuggestions","onKeyDown","defaultPrevented","BACKSPACE","DELETE","includes","keyCode","Button","icon","keyboardReturn","label","type","SocialLinkEdit","attributes","context","isSelected","service","rel","showLabels","iconColor","iconColorValue","iconBackgroundColor","iconBackgroundColorValue","showURLPopover","useState","classes","classNames","setPopoverAnchor","IconComponent","getIconBySite","socialLinkName","getNameBySite","socialLinkLabel","blockProps","useBlockProps","style","color","backgroundColor","Fragment","InspectorControls","PanelBody","title","sprintf","initialOpen","PanelRow","TextControl","help","group","ref","onClick","_default","exports","default"],"sources":["@wordpress/block-library/src/social-link/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { DELETE, BACKSPACE } from '@wordpress/keycodes';\nimport { useDispatch } from '@wordpress/data';\n\nimport {\n\tInspectorControls,\n\tURLPopover,\n\tURLInput,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getIconBySite, getNameBySite } from './social-list';\n\nconst SocialLinkURLPopover = ( {\n\turl,\n\tsetAttributes,\n\tsetPopover,\n\tpopoverAnchor,\n\tclientId,\n} ) => {\n\tconst { removeBlock } = useDispatch( blockEditorStore );\n\treturn (\n\t\t<URLPopover\n\t\t\tanchor={ popoverAnchor }\n\t\t\tonClose={ () => setPopover( false ) }\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"block-editor-url-popover__link-editor\"\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tsetPopover( false );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-url-input\">\n\t\t\t\t\t<URLInput\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\tonChange={ ( nextURL ) =>\n\t\t\t\t\t\t\tsetAttributes( { url: nextURL } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={ __( 'Enter address' ) }\n\t\t\t\t\t\tdisableSuggestions={ true }\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!! url ||\n\t\t\t\t\t\t\t\tevent.defaultPrevented ||\n\t\t\t\t\t\t\t\t! [ BACKSPACE, DELETE ].includes(\n\t\t\t\t\t\t\t\t\tevent.keyCode\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tremoveBlock( clientId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</URLPopover>\n\t);\n};\n\nconst SocialLinkEdit = ( {\n\tattributes,\n\tcontext,\n\tisSelected,\n\tsetAttributes,\n\tclientId,\n} ) => {\n\tconst { url, service, label, rel } = attributes;\n\tconst {\n\t\tshowLabels,\n\t\ticonColor,\n\t\ticonColorValue,\n\t\ticonBackgroundColor,\n\t\ticonBackgroundColorValue,\n\t} = context;\n\tconst [ showURLPopover, setPopover ] = useState( false );\n\tconst classes = classNames( 'wp-social-link', 'wp-social-link-' + service, {\n\t\t'wp-social-link__is-incomplete': ! url,\n\t\t[ `has-${ iconColor }-color` ]: iconColor,\n\t\t[ `has-${ iconBackgroundColor }-background-color` ]:\n\t\t\ticonBackgroundColor,\n\t} );\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\tconst IconComponent = getIconBySite( service );\n\tconst socialLinkName = getNameBySite( service );\n\tconst socialLinkLabel = label ?? socialLinkName;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t\tstyle: {\n\t\t\tcolor: iconColorValue,\n\t\t\tbackgroundColor: iconBackgroundColorValue,\n\t\t},\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t\t/* translators: %s: name of the social service. */\n\t\t\t\t\t\t__( '%s label' ),\n\t\t\t\t\t\tsocialLinkName\n\t\t\t\t\t) }\n\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Link label' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Briefly describe the link to help screen reader users.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ label || '' }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { label: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { rel: value } ) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<li { ...blockProps }>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"wp-block-social-link-anchor\"\n\t\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\t\tonClick={ () => setPopover( true ) }\n\t\t\t\t>\n\t\t\t\t\t<IconComponent />\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ classNames( 'wp-block-social-link-label', {\n\t\t\t\t\t\t\t'screen-reader-text': ! showLabels,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ socialLinkLabel }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ isSelected && showURLPopover && (\n\t\t\t\t\t\t<SocialLinkURLPopover\n\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t\tsetPopover={ setPopover }\n\t\t\t\t\t\t\tpopoverAnchor={ popoverAnchor }\n\t\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t</>\n\t);\n};\n\nexport default SocialLinkEdit;\n"],"mappings":"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"}