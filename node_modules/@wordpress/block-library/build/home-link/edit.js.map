{"version":3,"names":["_element","require","_classnames","_interopRequireDefault","_blockEditor","_i18n","_data","_coreData","preventDefault","event","HomeEdit","attributes","setAttributes","context","homeUrl","useSelect","select","getUnstableBase","coreStore","home","__unstableMarkNextChangeAsNotPersistent","useDispatch","blockEditorStore","textColor","backgroundColor","style","blockProps","useBlockProps","className","classnames","color","text","background","label","useEffect","undefined","__","createElement","Fragment","href","onClick","RichText","identifier","value","onChange","labelValue","placeholder","withoutInteractiveFormatting","allowedFormats"],"sources":["@wordpress/block-library/src/home-link/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useEffect } from '@wordpress/element';\n\nconst preventDefault = ( event ) => event.preventDefault();\n\nexport default function HomeEdit( { attributes, setAttributes, context } ) {\n\tconst { homeUrl } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetUnstableBase, // Site index.\n\t\t} = select( coreStore );\n\t\treturn {\n\t\t\thomeUrl: getUnstableBase()?.home,\n\t\t};\n\t}, [] );\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst { textColor, backgroundColor, style } = context;\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( 'wp-block-navigation-item', {\n\t\t\t'has-text-color': !! textColor || !! style?.color?.text,\n\t\t\t[ `has-${ textColor }-color` ]: !! textColor,\n\t\t\t'has-background': !! backgroundColor || !! style?.color?.background,\n\t\t\t[ `has-${ backgroundColor }-background-color` ]: !! backgroundColor,\n\t\t} ),\n\t\tstyle: {\n\t\t\tcolor: style?.color?.text,\n\t\t\tbackgroundColor: style?.color?.background,\n\t\t},\n\t} );\n\n\tconst { label } = attributes;\n\n\tuseEffect( () => {\n\t\tif ( label === undefined ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( { label: __( 'Home' ) } );\n\t\t}\n\t}, [ label ] );\n\n\treturn (\n\t\t<>\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"wp-block-home-link__content wp-block-navigation-item__content\"\n\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\tonClick={ preventDefault }\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"label\"\n\t\t\t\t\t\tclassName=\"wp-block-home-link__label\"\n\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\tonChange={ ( labelValue ) => {\n\t\t\t\t\t\t\tsetAttributes( { label: labelValue } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\taria-label={ __( 'Home link text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Add home link' ) }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tallowedFormats={ [\n\t\t\t\t\t\t\t'core/bold',\n\t\t\t\t\t\t\t'core/italic',\n\t\t\t\t\t\t\t'core/image',\n\t\t\t\t\t\t\t'core/strikethrough',\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":";;;;;;;AAgBA,IAAAA,QAAA,GAAAC,OAAA;AAbA,IAAAC,WAAA,GAAAC,sBAAA,CAAAF,OAAA;AAKA,IAAAG,YAAA,GAAAH,OAAA;AAKA,IAAAI,KAAA,GAAAJ,OAAA;AACA,IAAAK,KAAA,GAAAL,OAAA;AACA,IAAAM,SAAA,GAAAN,OAAA;AAfA;AACA;AACA;;AAGA;AACA;AACA;;AAWA,MAAMO,cAAc,GAAKC,KAAK,IAAMA,KAAK,CAACD,cAAc,CAAC,CAAC;AAE3C,SAASE,QAAQA,CAAE;EAAEC,UAAU;EAAEC,aAAa;EAAEC;AAAQ,CAAC,EAAG;EAC1E,MAAM;IAAEC;EAAQ,CAAC,GAAG,IAAAC,eAAS,EAAIC,MAAM,IAAM;IAC5C,MAAM;MACLC,eAAe,CAAE;IAClB,CAAC,GAAGD,MAAM,CAAEE,eAAU,CAAC;IACvB,OAAO;MACNJ,OAAO,EAAEG,eAAe,CAAC,CAAC,EAAEE;IAC7B,CAAC;EACF,CAAC,EAAE,EAAG,CAAC;EACP,MAAM;IAAEC;EAAwC,CAAC,GAChD,IAAAC,iBAAW,EAAEC,kBAAiB,CAAC;EAEhC,MAAM;IAAEC,SAAS;IAAEC,eAAe;IAAEC;EAAM,CAAC,GAAGZ,OAAO;EACrD,MAAMa,UAAU,GAAG,IAAAC,0BAAa,EAAE;IACjCC,SAAS,EAAE,IAAAC,mBAAU,EAAE,0BAA0B,EAAE;MAClD,gBAAgB,EAAE,CAAC,CAAEN,SAAS,IAAI,CAAC,CAAEE,KAAK,EAAEK,KAAK,EAAEC,IAAI;MACvD,CAAG,OAAOR,SAAW,QAAO,GAAI,CAAC,CAAEA,SAAS;MAC5C,gBAAgB,EAAE,CAAC,CAAEC,eAAe,IAAI,CAAC,CAAEC,KAAK,EAAEK,KAAK,EAAEE,UAAU;MACnE,CAAG,OAAOR,eAAiB,mBAAkB,GAAI,CAAC,CAAEA;IACrD,CAAE,CAAC;IACHC,KAAK,EAAE;MACNK,KAAK,EAAEL,KAAK,EAAEK,KAAK,EAAEC,IAAI;MACzBP,eAAe,EAAEC,KAAK,EAAEK,KAAK,EAAEE;IAChC;EACD,CAAE,CAAC;EAEH,MAAM;IAAEC;EAAM,CAAC,GAAGtB,UAAU;EAE5B,IAAAuB,kBAAS,EAAE,MAAM;IAChB,IAAKD,KAAK,KAAKE,SAAS,EAAG;MAC1Bf,uCAAuC,CAAC,CAAC;MACzCR,aAAa,CAAE;QAAEqB,KAAK,EAAE,IAAAG,QAAE,EAAE,MAAO;MAAE,CAAE,CAAC;IACzC;EACD,CAAC,EAAE,CAAEH,KAAK,CAAG,CAAC;EAEd,OACC,IAAAjC,QAAA,CAAAqC,aAAA,EAAArC,QAAA,CAAAsC,QAAA,QACC,IAAAtC,QAAA,CAAAqC,aAAA;IAAA,GAAUX;EAAU,GACnB,IAAA1B,QAAA,CAAAqC,aAAA;IACCT,SAAS,EAAC,+DAA+D;IACzEW,IAAI,EAAGzB,OAAS;IAChB0B,OAAO,EAAGhC;EAAgB,GAE1B,IAAAR,QAAA,CAAAqC,aAAA,EAACjC,YAAA,CAAAqC,QAAQ;IACRC,UAAU,EAAC,OAAO;IAClBd,SAAS,EAAC,2BAA2B;IACrCe,KAAK,EAAGV,KAAO;IACfW,QAAQ,EAAKC,UAAU,IAAM;MAC5BjC,aAAa,CAAE;QAAEqB,KAAK,EAAEY;MAAW,CAAE,CAAC;IACvC,CAAG;IACH,cAAa,IAAAT,QAAE,EAAE,gBAAiB,CAAG;IACrCU,WAAW,EAAG,IAAAV,QAAE,EAAE,eAAgB,CAAG;IACrCW,4BAA4B;IAC5BC,cAAc,EAAG,CAChB,WAAW,EACX,aAAa,EACb,YAAY,EACZ,oBAAoB;EAClB,CACH,CACC,CACC,CACJ,CAAC;AAEL"}