{"version":3,"names":["_element","require","_i18n","_blockEditor","_data","_components","_queryPaginationArrowControls","_queryPaginationLabelControl","TEMPLATE","ALLOWED_BLOCKS","QueryPaginationEdit","attributes","paginationArrow","showLabel","setAttributes","clientId","hasNextPreviousBlocks","useSelect","select","getBlocks","blockEditorStore","innerBlocks","find","innerBlock","includes","name","blockProps","useBlockProps","innerBlocksProps","useInnerBlocksProps","template","allowedBlocks","useEffect","createElement","Fragment","InspectorControls","PanelBody","title","__","QueryPaginationArrowControls","value","onChange","QueryPaginationLabelControl"],"sources":["@wordpress/block-library/src/query-pagination/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { QueryPaginationArrowControls } from './query-pagination-arrow-controls';\nimport { QueryPaginationLabelControl } from './query-pagination-label-control';\n\nconst TEMPLATE = [\n\t[ 'core/query-pagination-previous' ],\n\t[ 'core/query-pagination-numbers' ],\n\t[ 'core/query-pagination-next' ],\n];\nconst ALLOWED_BLOCKS = [\n\t'core/query-pagination-previous',\n\t'core/query-pagination-numbers',\n\t'core/query-pagination-next',\n];\n\nexport default function QueryPaginationEdit( {\n\tattributes: { paginationArrow, showLabel },\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst hasNextPreviousBlocks = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlocks } = select( blockEditorStore );\n\t\t\tconst innerBlocks = getBlocks( clientId );\n\t\t\t/**\n\t\t\t * Show the `paginationArrow` and `showLabel` controls only if a\n\t\t\t * `QueryPaginationNext/Previous` block exists.\n\t\t\t */\n\t\t\treturn innerBlocks?.find( ( innerBlock ) => {\n\t\t\t\treturn [\n\t\t\t\t\t'core/query-pagination-next',\n\t\t\t\t\t'core/query-pagination-previous',\n\t\t\t\t].includes( innerBlock.name );\n\t\t\t} );\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\tallowedBlocks: ALLOWED_BLOCKS,\n\t} );\n\t// Always show label text if paginationArrow is set to 'none'.\n\tuseEffect( () => {\n\t\tif ( paginationArrow === 'none' && ! showLabel ) {\n\t\t\tsetAttributes( { showLabel: true } );\n\t\t}\n\t}, [ paginationArrow, setAttributes, showLabel ] );\n\treturn (\n\t\t<>\n\t\t\t{ hasNextPreviousBlocks && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t<QueryPaginationArrowControls\n\t\t\t\t\t\t\tvalue={ paginationArrow }\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { paginationArrow: value } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ paginationArrow !== 'none' && (\n\t\t\t\t\t\t\t<QueryPaginationLabelControl\n\t\t\t\t\t\t\t\tvalue={ showLabel }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\tsetAttributes( { showLabel: value } );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<nav { ...innerBlocksProps } />\n\t\t</>\n\t);\n}\n"],"mappings":";;;;;;AAYA,IAAAA,QAAA,GAAAC,OAAA;AATA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AAMA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AAMA,IAAAK,6BAAA,GAAAL,OAAA;AACA,IAAAM,4BAAA,GAAAN,OAAA;AAlBA;AACA;AACA;;AAYA;AACA;AACA;;AAIA,MAAMO,QAAQ,GAAG,CAChB,CAAE,gCAAgC,CAAE,EACpC,CAAE,+BAA+B,CAAE,EACnC,CAAE,4BAA4B,CAAE,CAChC;AACD,MAAMC,cAAc,GAAG,CACtB,gCAAgC,EAChC,+BAA+B,EAC/B,4BAA4B,CAC5B;AAEc,SAASC,mBAAmBA,CAAE;EAC5CC,UAAU,EAAE;IAAEC,eAAe;IAAEC;EAAU,CAAC;EAC1CC,aAAa;EACbC;AACD,CAAC,EAAG;EACH,MAAMC,qBAAqB,GAAG,IAAAC,eAAS,EACpCC,MAAM,IAAM;IACb,MAAM;MAAEC;IAAU,CAAC,GAAGD,MAAM,CAAEE,kBAAiB,CAAC;IAChD,MAAMC,WAAW,GAAGF,SAAS,CAAEJ,QAAS,CAAC;IACzC;AACH;AACA;AACA;IACG,OAAOM,WAAW,EAAEC,IAAI,CAAIC,UAAU,IAAM;MAC3C,OAAO,CACN,4BAA4B,EAC5B,gCAAgC,CAChC,CAACC,QAAQ,CAAED,UAAU,CAACE,IAAK,CAAC;IAC9B,CAAE,CAAC;EACJ,CAAC,EACD,CAAEV,QAAQ,CACX,CAAC;EACD,MAAMW,UAAU,GAAG,IAAAC,0BAAa,EAAC,CAAC;EAClC,MAAMC,gBAAgB,GAAG,IAAAC,gCAAmB,EAAEH,UAAU,EAAE;IACzDI,QAAQ,EAAEtB,QAAQ;IAClBuB,aAAa,EAAEtB;EAChB,CAAE,CAAC;EACH;EACA,IAAAuB,kBAAS,EAAE,MAAM;IAChB,IAAKpB,eAAe,KAAK,MAAM,IAAI,CAAEC,SAAS,EAAG;MAChDC,aAAa,CAAE;QAAED,SAAS,EAAE;MAAK,CAAE,CAAC;IACrC;EACD,CAAC,EAAE,CAAED,eAAe,EAAEE,aAAa,EAAED,SAAS,CAAG,CAAC;EAClD,OACC,IAAAb,QAAA,CAAAiC,aAAA,EAAAjC,QAAA,CAAAkC,QAAA,QACGlB,qBAAqB,IACtB,IAAAhB,QAAA,CAAAiC,aAAA,EAAC9B,YAAA,CAAAgC,iBAAiB,QACjB,IAAAnC,QAAA,CAAAiC,aAAA,EAAC5B,WAAA,CAAA+B,SAAS;IAACC,KAAK,EAAG,IAAAC,QAAE,EAAE,UAAW;EAAG,GACpC,IAAAtC,QAAA,CAAAiC,aAAA,EAAC3B,6BAAA,CAAAiC,4BAA4B;IAC5BC,KAAK,EAAG5B,eAAiB;IACzB6B,QAAQ,EAAKD,KAAK,IAAM;MACvB1B,aAAa,CAAE;QAAEF,eAAe,EAAE4B;MAAM,CAAE,CAAC;IAC5C;EAAG,CACH,CAAC,EACA5B,eAAe,KAAK,MAAM,IAC3B,IAAAZ,QAAA,CAAAiC,aAAA,EAAC1B,4BAAA,CAAAmC,2BAA2B;IAC3BF,KAAK,EAAG3B,SAAW;IACnB4B,QAAQ,EAAKD,KAAK,IAAM;MACvB1B,aAAa,CAAE;QAAED,SAAS,EAAE2B;MAAM,CAAE,CAAC;IACtC;EAAG,CACH,CAEQ,CACO,CACnB,EACD,IAAAxC,QAAA,CAAAiC,aAAA;IAAA,GAAUL;EAAgB,CAAI,CAC7B,CAAC;AAEL"}