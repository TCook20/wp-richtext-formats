{"version":3,"names":["_classnames","_interopRequireDefault","require","_i18n","_components","_blockEditor","_blocks","_icons","_useEnter","name","ParagraphRTLControl","direction","setDirection","isRTL","_element","createElement","ToolbarButton","icon","formatLtr","title","_x","isActive","onClick","undefined","hasDropCapDisabled","align","ParagraphBlock","attributes","mergeBlocks","onReplace","onRemove","setAttributes","clientId","content","dropCap","placeholder","isDropCapFeatureEnabled","useSetting","blockProps","useBlockProps","ref","useOnEnter","className","classnames","style","helpText","__","Fragment","BlockControls","group","AlignmentControl","value","onChange","newAlign","newDirection","InspectorControls","__experimentalToolsPanelItem","hasValue","label","onDeselect","resetAllFilter","panelId","ToggleControl","__nextHasNoMarginBottom","checked","help","disabled","RichText","identifier","tagName","newContent","onSplit","isOriginal","newAttributes","block","createBlock","onMerge","__unstableEmbedURLOnPaste","__unstableAllowPrefixTransformations","_default","exports","default"],"sources":["@wordpress/block-library/src/paragraph/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport {\n\tToolbarButton,\n\tToggleControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\tuseSetting,\n} from '@wordpress/block-editor';\nimport { createBlock } from '@wordpress/blocks';\nimport { formatLtr } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useOnEnter } from './use-enter';\n\nconst name = 'core/paragraph';\n\nfunction ParagraphRTLControl( { direction, setDirection } ) {\n\treturn (\n\t\tisRTL() && (\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ formatLtr }\n\t\t\t\ttitle={ _x( 'Left to right', 'editor button' ) }\n\t\t\t\tisActive={ direction === 'ltr' }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetDirection( direction === 'ltr' ? undefined : 'ltr' );\n\t\t\t\t} }\n\t\t\t/>\n\t\t)\n\t);\n}\n\nfunction hasDropCapDisabled( align ) {\n\treturn align === ( isRTL() ? 'left' : 'right' ) || align === 'center';\n}\n\nfunction ParagraphBlock( {\n\tattributes,\n\tmergeBlocks,\n\tonReplace,\n\tonRemove,\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst { align, content, direction, dropCap, placeholder } = attributes;\n\tconst isDropCapFeatureEnabled = useSetting( 'typography.dropCap' );\n\tconst blockProps = useBlockProps( {\n\t\tref: useOnEnter( { clientId, content } ),\n\t\tclassName: classnames( {\n\t\t\t'has-drop-cap': hasDropCapDisabled( align ) ? false : dropCap,\n\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t} ),\n\t\tstyle: { direction },\n\t} );\n\n\tlet helpText;\n\tif ( hasDropCapDisabled( align ) ) {\n\t\thelpText = __( 'Not available for aligned text.' );\n\t} else if ( dropCap ) {\n\t\thelpText = __( 'Showing large initial letter.' );\n\t} else {\n\t\thelpText = __( 'Toggle to show a large initial letter.' );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<AlignmentControl\n\t\t\t\t\tvalue={ align }\n\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t\t\tdropCap: hasDropCapDisabled( newAlign )\n\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t: dropCap,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ParagraphRTLControl\n\t\t\t\t\tdirection={ direction }\n\t\t\t\t\tsetDirection={ ( newDirection ) =>\n\t\t\t\t\t\tsetAttributes( { direction: newDirection } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t{ isDropCapFeatureEnabled && (\n\t\t\t\t<InspectorControls group=\"typography\">\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\thasValue={ () => !! dropCap }\n\t\t\t\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\tsetAttributes( { dropCap: undefined } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresetAllFilter={ () => ( { dropCap: undefined } ) }\n\t\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\t\t\t\t\tchecked={ !! dropCap }\n\t\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\t\tsetAttributes( { dropCap: ! dropCap } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thelp={ helpText }\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\thasDropCapDisabled( align ) ? true : false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<RichText\n\t\t\t\tidentifier=\"content\"\n\t\t\t\ttagName=\"p\"\n\t\t\t\t{ ...blockProps }\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( newContent ) =>\n\t\t\t\t\tsetAttributes( { content: newContent } )\n\t\t\t\t}\n\t\t\t\tonSplit={ ( value, isOriginal ) => {\n\t\t\t\t\tlet newAttributes;\n\n\t\t\t\t\tif ( isOriginal || value ) {\n\t\t\t\t\t\tnewAttributes = {\n\t\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t\tcontent: value,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tconst block = createBlock( name, newAttributes );\n\n\t\t\t\t\tif ( isOriginal ) {\n\t\t\t\t\t\tblock.clientId = clientId;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn block;\n\t\t\t\t} }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonRemove={ onRemove }\n\t\t\t\taria-label={\n\t\t\t\t\tcontent\n\t\t\t\t\t\t? __( 'Paragraph block' )\n\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t'Empty block; start writing or type forward slash to choose a block'\n\t\t\t\t\t\t  )\n\t\t\t\t}\n\t\t\t\tdata-empty={ content ? false : true }\n\t\t\t\tplaceholder={ placeholder || __( 'Type / to choose a block' ) }\n\t\t\t\tdata-custom-placeholder={ placeholder ? true : undefined }\n\t\t\t\t__unstableEmbedURLOnPaste\n\t\t\t\t__unstableAllowPrefixTransformations\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ParagraphBlock;\n"],"mappings":"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"}