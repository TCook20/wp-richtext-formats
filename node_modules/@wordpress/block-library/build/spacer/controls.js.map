{"version":3,"names":["_i18n","require","_blockEditor","_components","_compose","_primitives","_constants","DimensionInput","label","onChange","isResizing","value","inputId","useInstanceId","UnitControl","spacingSizes","useSetting","availableUnitSettings","undefined","filter","availableUnit","units","useCustomUnits","availableUnits","defaultValues","px","em","rem","vw","vh","handleOnChange","unprocessedValue","all","parsedQuantity","parsedUnit","parseQuantityAndUnitFromRawValue","computedValue","isValueSpacingPreset","join","_element","createElement","Fragment","length","BaseControl","id","__experimentalUnitControl","isResetValueOnUnitChange","min","MIN_SPACER_SIZE","style","maxWidth","View","className","__experimentalSpacingSizesControl","values","sides","allowReset","splitOnAxis","showSideInLabel","SpacerControls","setAttributes","orientation","height","width","InspectorControls","PanelBody","title","__","nextWidth","nextHeight"],"sources":["@wordpress/block-library/src/spacer/controls.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tuseSetting,\n\t__experimentalSpacingSizesControl as SpacingSizesControl,\n\tisValueSpacingPreset,\n} from '@wordpress/block-editor';\nimport {\n\tBaseControl,\n\tPanelBody,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { View } from '@wordpress/primitives';\n\n/**\n * Internal dependencies\n */\nimport { MIN_SPACER_SIZE } from './constants';\n\nfunction DimensionInput( { label, onChange, isResizing, value = '' } ) {\n\tconst inputId = useInstanceId( UnitControl, 'block-spacer-height-input' );\n\tconst spacingSizes = useSetting( 'spacing.spacingSizes' );\n\t// In most contexts the spacer size cannot meaningfully be set to a\n\t// percentage, since this is relative to the parent container. This\n\t// unit is disabled from the UI.\n\tconst availableUnitSettings = (\n\t\tuseSetting( 'spacing.units' ) || undefined\n\t)?.filter( ( availableUnit ) => availableUnit !== '%' );\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: availableUnitSettings || [\n\t\t\t'px',\n\t\t\t'em',\n\t\t\t'rem',\n\t\t\t'vw',\n\t\t\t'vh',\n\t\t],\n\t\tdefaultValues: { px: 100, em: 10, rem: 10, vw: 10, vh: 25 },\n\t} );\n\n\tconst handleOnChange = ( unprocessedValue ) => {\n\t\tonChange( unprocessedValue.all );\n\t};\n\n\t// Force the unit to update to `px` when the Spacer is being resized.\n\tconst [ parsedQuantity, parsedUnit ] =\n\t\tparseQuantityAndUnitFromRawValue( value );\n\tconst computedValue = isValueSpacingPreset( value )\n\t\t? value\n\t\t: [ parsedQuantity, isResizing ? 'px' : parsedUnit ].join( '' );\n\n\treturn (\n\t\t<>\n\t\t\t{ ( ! spacingSizes || spacingSizes?.length === 0 ) && (\n\t\t\t\t<BaseControl label={ label } id={ inputId }>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tid={ inputId }\n\t\t\t\t\t\tisResetValueOnUnitChange\n\t\t\t\t\t\tmin={ MIN_SPACER_SIZE }\n\t\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\t\tstyle={ { maxWidth: 80 } }\n\t\t\t\t\t\tvalue={ computedValue }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t/>\n\t\t\t\t</BaseControl>\n\t\t\t) }\n\n\t\t\t{ spacingSizes?.length > 0 && (\n\t\t\t\t<View className=\"tools-panel-item-spacing\">\n\t\t\t\t\t<SpacingSizesControl\n\t\t\t\t\t\tvalues={ { all: computedValue } }\n\t\t\t\t\t\tonChange={ handleOnChange }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\tsides={ [ 'all' ] }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\tsplitOnAxis={ false }\n\t\t\t\t\t\tshowSideInLabel={ false }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default function SpacerControls( {\n\tsetAttributes,\n\torientation,\n\theight,\n\twidth,\n\tisResizing,\n} ) {\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t{ orientation === 'horizontal' && (\n\t\t\t\t\t<DimensionInput\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\tvalue={ width }\n\t\t\t\t\t\tonChange={ ( nextWidth ) =>\n\t\t\t\t\t\t\tsetAttributes( { width: nextWidth } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ orientation !== 'horizontal' && (\n\t\t\t\t\t<DimensionInput\n\t\t\t\t\t\tlabel={ __( 'Height' ) }\n\t\t\t\t\t\tvalue={ height }\n\t\t\t\t\t\tonChange={ ( nextHeight ) =>\n\t\t\t\t\t\t\tsetAttributes( { height: nextHeight } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisResizing={ isResizing }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n}\n"],"mappings":"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"}