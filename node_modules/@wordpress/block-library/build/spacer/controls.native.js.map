{"version":3,"names":["_element","require","_components","_blockEditor","_i18n","_constants","_style","_interopRequireDefault","DEFAULT_VALUES","px","em","rem","vw","vh","exports","Controls","attributes","context","setAttributes","presetWidth","presetHeight","orientation","label","__","width","height","valueToConvert","valueUnit","unit","getValueAndUnit","value","Number","currentUnit","setNewDimensions","nextValue","nextUnit","valueWithUnit","handleChange","useCallback","handleUnitChange","units","useCustomUnits","availableUnits","useSetting","defaultValues","createElement","Fragment","PanelBody","title","UnitControl","min","MIN_SPACER_SIZE","onChange","onUnitChange","style","styles","rangeCellContainer","_default","default"],"sources":["@wordpress/block-library/src/spacer/controls.native.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tUnitControl,\n\tgetValueAndUnit,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { useSetting } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { MIN_SPACER_SIZE } from './constants';\nimport styles from './style.scss';\n\nexport const DEFAULT_VALUES = { px: 100, em: 10, rem: 10, vw: 10, vh: 25 };\n\nfunction Controls( {\n\tattributes,\n\tcontext,\n\tsetAttributes,\n\tpresetWidth,\n\tpresetHeight,\n} ) {\n\tconst { orientation } = context;\n\tconst label = orientation !== 'horizontal' ? __( 'Height' ) : __( 'Width' );\n\n\tconst width = presetWidth || attributes.width;\n\tconst height = presetHeight || attributes.height;\n\tconst { valueToConvert, valueUnit: unit } =\n\t\tgetValueAndUnit( orientation !== 'horizontal' ? height : width ) || {};\n\tconst value = Number( valueToConvert );\n\tconst currentUnit = unit || 'px';\n\n\tconst setNewDimensions = ( nextValue, nextUnit ) => {\n\t\tconst valueWithUnit = `${ nextValue }${ nextUnit }`;\n\t\tif ( orientation === 'horizontal' ) {\n\t\t\tsetAttributes( { width: valueWithUnit } );\n\t\t} else {\n\t\t\tsetAttributes( { height: valueWithUnit } );\n\t\t}\n\t};\n\n\tconst handleChange = useCallback(\n\t\t( nextValue ) => {\n\t\t\tsetNewDimensions( nextValue, currentUnit );\n\t\t},\n\t\t[ height, width ]\n\t);\n\n\tconst handleUnitChange = useCallback(\n\t\t( nextUnit ) => {\n\t\t\tsetNewDimensions( value, nextUnit );\n\t\t},\n\t\t[ height, width ]\n\t);\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: useSetting( 'spacing.units' ) || [\n\t\t\t'px',\n\t\t\t'em',\n\t\t\t'rem',\n\t\t\t'vw',\n\t\t\t'vh',\n\t\t],\n\t\tdefaultValues: DEFAULT_VALUES,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<PanelBody title={ __( 'Dimensions' ) }>\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\tmin={ MIN_SPACER_SIZE }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\tonUnitChange={ handleUnitChange }\n\t\t\t\t\tunits={ units }\n\t\t\t\t\tunit={ currentUnit }\n\t\t\t\t\tstyle={ styles.rangeCellContainer }\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\t\t</>\n\t);\n}\n\nexport default Controls;\n"],"mappings":"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"}