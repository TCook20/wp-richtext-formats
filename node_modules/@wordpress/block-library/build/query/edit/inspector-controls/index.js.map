{"version":3,"names":["_element","require","_components","_i18n","_blockEditor","_compose","_a11y","_orderControl","_interopRequireDefault","_authorControl","_parentControl","_taxonomyControls","_stickyControl","_createNewPostLink","_lockUnlock","_utils","BlockInfo","unlock","blockEditorPrivateApis","QueryInspectorControls","props","attributes","setQuery","setDisplayLayout","setAttributes","query","displayLayout","enhancedPagination","order","orderBy","author","authorIds","postType","sticky","inherit","taxQuery","parents","allowedControls","useAllowedControls","showSticky","setShowSticky","useState","postTypesTaxonomiesMap","postTypesSelectOptions","usePostTypes","taxonomies","useTaxonomies","isPostTypeHierarchical","useIsPostTypeHierarchical","useEffect","onPostTypeChange","newValue","updateQuery","supportedTaxonomies","updatedTaxQuery","Object","entries","reduce","accumulator","taxonomySlug","terms","includes","keys","length","undefined","querySearch","setQuerySearch","search","onChangeDebounced","useCallback","debounce","cancel","showInheritControl","isControlAllowed","showPostTypeControl","showColumnsControl","showOrderControl","showStickyControl","showSettingsPanel","showTaxControl","showAuthorControl","showSearchControl","showParentControl","enhancedPaginationNotice","__","isFirstRender","useRef","current","speak","showFiltersPanel","createElement","Fragment","default","InspectorControls","PanelBody","title","ToggleControl","__nextHasNoMarginBottom","label","help","checked","onChange","value","SelectControl","options","RangeControl","columns","min","max","Math","Notice","status","isDismissible","__experimentalToolsPanel","className","resetAll","__experimentalToolsPanelItem","hasValue","values","some","onDeselect","TaxonomyControls","TextControl","initialOpen","spokenMessage"],"sources":["@wordpress/block-library/src/query/edit/inspector-controls/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tTextControl,\n\tSelectControl,\n\tRangeControl,\n\tToggleControl,\n\tNotice,\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { debounce } from '@wordpress/compose';\nimport { useEffect, useState, useCallback, useRef } from '@wordpress/element';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport OrderControl from './order-control';\nimport AuthorControl from './author-control';\nimport ParentControl from './parent-control';\nimport { TaxonomyControls } from './taxonomy-controls';\nimport StickyControl from './sticky-control';\nimport CreateNewPostLink from './create-new-post-link';\nimport { unlock } from '../../../lock-unlock';\nimport {\n\tusePostTypes,\n\tuseIsPostTypeHierarchical,\n\tuseAllowedControls,\n\tisControlAllowed,\n\tuseTaxonomies,\n} from '../../utils';\n\nconst { BlockInfo } = unlock( blockEditorPrivateApis );\n\nexport default function QueryInspectorControls( props ) {\n\tconst { attributes, setQuery, setDisplayLayout, setAttributes } = props;\n\tconst { query, displayLayout, enhancedPagination } = attributes;\n\tconst {\n\t\torder,\n\t\torderBy,\n\t\tauthor: authorIds,\n\t\tpostType,\n\t\tsticky,\n\t\tinherit,\n\t\ttaxQuery,\n\t\tparents,\n\t} = query;\n\tconst allowedControls = useAllowedControls( attributes );\n\tconst [ showSticky, setShowSticky ] = useState( postType === 'post' );\n\tconst { postTypesTaxonomiesMap, postTypesSelectOptions } = usePostTypes();\n\tconst taxonomies = useTaxonomies( postType );\n\tconst isPostTypeHierarchical = useIsPostTypeHierarchical( postType );\n\tuseEffect( () => {\n\t\tsetShowSticky( postType === 'post' );\n\t}, [ postType ] );\n\tconst onPostTypeChange = ( newValue ) => {\n\t\tconst updateQuery = { postType: newValue };\n\t\t// We need to dynamically update the `taxQuery` property,\n\t\t// by removing any not supported taxonomy from the query.\n\t\tconst supportedTaxonomies = postTypesTaxonomiesMap[ newValue ];\n\t\tconst updatedTaxQuery = Object.entries( taxQuery || {} ).reduce(\n\t\t\t( accumulator, [ taxonomySlug, terms ] ) => {\n\t\t\t\tif ( supportedTaxonomies.includes( taxonomySlug ) ) {\n\t\t\t\t\taccumulator[ taxonomySlug ] = terms;\n\t\t\t\t}\n\t\t\t\treturn accumulator;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\t\tupdateQuery.taxQuery = !! Object.keys( updatedTaxQuery ).length\n\t\t\t? updatedTaxQuery\n\t\t\t: undefined;\n\n\t\tif ( newValue !== 'post' ) {\n\t\t\tupdateQuery.sticky = '';\n\t\t}\n\t\t// We need to reset `parents` because they are tied to each post type.\n\t\tupdateQuery.parents = [];\n\t\tsetQuery( updateQuery );\n\t};\n\tconst [ querySearch, setQuerySearch ] = useState( query.search );\n\tconst onChangeDebounced = useCallback(\n\t\tdebounce( () => {\n\t\t\tif ( query.search !== querySearch ) {\n\t\t\t\tsetQuery( { search: querySearch } );\n\t\t\t}\n\t\t}, 250 ),\n\t\t[ querySearch, query.search ]\n\t);\n\tuseEffect( () => {\n\t\tonChangeDebounced();\n\t\treturn onChangeDebounced.cancel;\n\t}, [ querySearch, onChangeDebounced ] );\n\tconst showInheritControl = isControlAllowed( allowedControls, 'inherit' );\n\tconst showPostTypeControl =\n\t\t! inherit && isControlAllowed( allowedControls, 'postType' );\n\tconst showColumnsControl = false;\n\tconst showOrderControl =\n\t\t! inherit && isControlAllowed( allowedControls, 'order' );\n\tconst showStickyControl =\n\t\t! inherit &&\n\t\tshowSticky &&\n\t\tisControlAllowed( allowedControls, 'sticky' );\n\tconst showSettingsPanel =\n\t\tshowInheritControl ||\n\t\tshowPostTypeControl ||\n\t\tshowColumnsControl ||\n\t\tshowOrderControl ||\n\t\tshowStickyControl;\n\tconst showTaxControl =\n\t\t!! taxonomies?.length &&\n\t\tisControlAllowed( allowedControls, 'taxQuery' );\n\tconst showAuthorControl = isControlAllowed( allowedControls, 'author' );\n\tconst showSearchControl = isControlAllowed( allowedControls, 'search' );\n\tconst showParentControl =\n\t\tisControlAllowed( allowedControls, 'parents' ) &&\n\t\tisPostTypeHierarchical;\n\n\tconst enhancedPaginationNotice = __(\n\t\t'Enhanced Pagination might cause interactive blocks within the Post Template to stop working. Disable it if you experience any issues.'\n\t);\n\n\tconst isFirstRender = useRef( true ); // Don't speak on first render.\n\tuseEffect( () => {\n\t\tif ( ! isFirstRender.current && enhancedPagination ) {\n\t\t\tspeak( enhancedPaginationNotice );\n\t\t}\n\t\tisFirstRender.current = false;\n\t}, [ enhancedPagination, enhancedPaginationNotice ] );\n\n\tconst showFiltersPanel =\n\t\tshowTaxControl ||\n\t\tshowAuthorControl ||\n\t\tshowSearchControl ||\n\t\tshowParentControl;\n\n\treturn (\n\t\t<>\n\t\t\t<BlockInfo>\n\t\t\t\t<CreateNewPostLink { ...props } />\n\t\t\t</BlockInfo>\n\t\t\t{ showSettingsPanel && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t\t{ showInheritControl && (\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ __( 'Inherit query from template' ) }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Toggle to use the global query context that is set with the current template, such as an archive or search. Disable to customize the settings independently.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tchecked={ !! inherit }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetQuery( { inherit: !! value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showPostTypeControl && (\n\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\toptions={ postTypesSelectOptions }\n\t\t\t\t\t\t\t\tvalue={ postType }\n\t\t\t\t\t\t\t\tlabel={ __( 'Post type' ) }\n\t\t\t\t\t\t\t\tonChange={ onPostTypeChange }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'WordPress contains different types of content and they are divided into collections called “Post types”. By default there are a few different ones such as blog posts and pages, but plugins could add more.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showColumnsControl && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\t\t\tvalue={ displayLayout.columns }\n\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\tsetDisplayLayout( {\n\t\t\t\t\t\t\t\t\t\t\tcolumns: value,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\t\t\tmax={ Math.max( 6, displayLayout.columns ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ displayLayout.columns > 6 && (\n\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t'This column count exceeds the recommended amount and may cause visual breakage.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showOrderControl && (\n\t\t\t\t\t\t\t<OrderControl\n\t\t\t\t\t\t\t\t{ ...{ order, orderBy } }\n\t\t\t\t\t\t\t\tonChange={ setQuery }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showStickyControl && (\n\t\t\t\t\t\t\t<StickyControl\n\t\t\t\t\t\t\t\tvalue={ sticky }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetQuery( { sticky: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t{ ! inherit && showFiltersPanel && (\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<ToolsPanel\n\t\t\t\t\t\tclassName=\"block-library-query-toolspanel__filters\"\n\t\t\t\t\t\tlabel={ __( 'Filters' ) }\n\t\t\t\t\t\tresetAll={ () => {\n\t\t\t\t\t\t\tsetQuery( {\n\t\t\t\t\t\t\t\tauthor: '',\n\t\t\t\t\t\t\t\tparents: [],\n\t\t\t\t\t\t\t\tsearch: '',\n\t\t\t\t\t\t\t\ttaxQuery: null,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tsetQuerySearch( '' );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ showTaxControl && (\n\t\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\t\tlabel={ __( 'Taxonomies' ) }\n\t\t\t\t\t\t\t\thasValue={ () =>\n\t\t\t\t\t\t\t\t\tObject.values( taxQuery || {} ).some(\n\t\t\t\t\t\t\t\t\t\t( terms ) => !! terms.length\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonDeselect={ () =>\n\t\t\t\t\t\t\t\t\tsetQuery( { taxQuery: null } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TaxonomyControls\n\t\t\t\t\t\t\t\t\tonChange={ setQuery }\n\t\t\t\t\t\t\t\t\tquery={ query }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showAuthorControl && (\n\t\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\t\thasValue={ () => !! authorIds }\n\t\t\t\t\t\t\t\tlabel={ __( 'Authors' ) }\n\t\t\t\t\t\t\t\tonDeselect={ () => setQuery( { author: '' } ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AuthorControl\n\t\t\t\t\t\t\t\t\tvalue={ authorIds }\n\t\t\t\t\t\t\t\t\tonChange={ setQuery }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showSearchControl && (\n\t\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\t\thasValue={ () => !! querySearch }\n\t\t\t\t\t\t\t\tlabel={ __( 'Keyword' ) }\n\t\t\t\t\t\t\t\tonDeselect={ () => setQuerySearch( '' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Keyword' ) }\n\t\t\t\t\t\t\t\t\tvalue={ querySearch }\n\t\t\t\t\t\t\t\t\tonChange={ setQuerySearch }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ showParentControl && (\n\t\t\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\t\t\thasValue={ () => !! parents?.length }\n\t\t\t\t\t\t\t\tlabel={ __( 'Parents' ) }\n\t\t\t\t\t\t\t\tonDeselect={ () => setQuery( { parents: [] } ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ParentControl\n\t\t\t\t\t\t\t\t\tparents={ parents }\n\t\t\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\t\t\tonChange={ setQuery }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ToolsPanel>\n\t\t\t\t</InspectorControls>\n\t\t\t) }\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ __( 'User Experience' ) }\n\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Enhanced pagination' ) }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\"Don't refresh the page when paginating to another page.\"\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tchecked={ !! enhancedPagination }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tenhancedPagination: !! value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{ enhancedPagination && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\tspokenMessage={ null }\n\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ enhancedPaginationNotice }\n\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n}\n"],"mappings":"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"}