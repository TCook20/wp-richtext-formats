{"version":3,"names":["_element","require","_blockEditor","GapStyles","blockGap","clientId","styleElement","useContext","BlockList","__unstableElementContext","fallbackValue","gapValue","column","row","getGapCSSValue","top","left","gap","GapStyle","createElement","createPortal"],"sources":["@wordpress/block-library/src/gallery/gap-styles.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\t__experimentalGetGapCSSValue as getGapCSSValue,\n} from '@wordpress/block-editor';\nimport { useContext, createPortal } from '@wordpress/element';\n\nexport default function GapStyles( { blockGap, clientId } ) {\n\tconst styleElement = useContext( BlockList.__unstableElementContext );\n\t// --gallery-block--gutter-size is deprecated. --wp--style--gallery-gap-default should be used by themes that want to set a default\n\t// gap on the gallery.\n\tconst fallbackValue = `var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) )`;\n\tlet gapValue = fallbackValue;\n\tlet column = fallbackValue;\n\tlet row;\n\n\t// Check for the possibility of split block gap values. See: https://github.com/WordPress/gutenberg/pull/37736\n\tif ( !! blockGap ) {\n\t\trow =\n\t\t\ttypeof blockGap === 'string'\n\t\t\t\t? getGapCSSValue( blockGap )\n\t\t\t\t: getGapCSSValue( blockGap?.top ) || fallbackValue;\n\t\tcolumn =\n\t\t\ttypeof blockGap === 'string'\n\t\t\t\t? getGapCSSValue( blockGap )\n\t\t\t\t: getGapCSSValue( blockGap?.left ) || fallbackValue;\n\t\tgapValue = row === column ? row : `${ row } ${ column }`;\n\t}\n\n\t// The unstable gallery gap calculation requires a real value (such as `0px`) and not `0`.\n\tconst gap = `#block-${ clientId } {\n\t\t--wp--style--unstable-gallery-gap: ${ column === '0' ? '0px' : column };\n\t\tgap: ${ gapValue }\n\t}`;\n\n\tconst GapStyle = () => {\n\t\treturn <style>{ gap }</style>;\n\t};\n\n\treturn gap && styleElement\n\t\t? createPortal( <GapStyle />, styleElement )\n\t\t: null;\n}\n"],"mappings":";;;;;;AAOA,IAAAA,QAAA,GAAAC,OAAA;AAJA,IAAAC,YAAA,GAAAD,OAAA;AAHA;AACA;AACA;;AAOe,SAASE,SAASA,CAAE;EAAEC,QAAQ;EAAEC;AAAS,CAAC,EAAG;EAC3D,MAAMC,YAAY,GAAG,IAAAC,mBAAU,EAAEC,sBAAS,CAACC,wBAAyB,CAAC;EACrE;EACA;EACA,MAAMC,aAAa,GAAI,oHAAmH;EAC1I,IAAIC,QAAQ,GAAGD,aAAa;EAC5B,IAAIE,MAAM,GAAGF,aAAa;EAC1B,IAAIG,GAAG;;EAEP;EACA,IAAK,CAAC,CAAET,QAAQ,EAAG;IAClBS,GAAG,GACF,OAAOT,QAAQ,KAAK,QAAQ,GACzB,IAAAU,yCAAc,EAAEV,QAAS,CAAC,GAC1B,IAAAU,yCAAc,EAAEV,QAAQ,EAAEW,GAAI,CAAC,IAAIL,aAAa;IACpDE,MAAM,GACL,OAAOR,QAAQ,KAAK,QAAQ,GACzB,IAAAU,yCAAc,EAAEV,QAAS,CAAC,GAC1B,IAAAU,yCAAc,EAAEV,QAAQ,EAAEY,IAAK,CAAC,IAAIN,aAAa;IACrDC,QAAQ,GAAGE,GAAG,KAAKD,MAAM,GAAGC,GAAG,GAAI,GAAGA,GAAK,IAAID,MAAQ,EAAC;EACzD;;EAEA;EACA,MAAMK,GAAG,GAAI,UAAUZ,QAAU;AAClC,uCAAwCO,MAAM,KAAK,GAAG,GAAG,KAAK,GAAGA,MAAQ;AACzE,SAAUD,QAAU;AACpB,GAAG;EAEF,MAAMO,QAAQ,GAAGA,CAAA,KAAM;IACtB,OAAO,IAAAlB,QAAA,CAAAmB,aAAA,iBAASF,GAAY,CAAC;EAC9B,CAAC;EAED,OAAOA,GAAG,IAAIX,YAAY,GACvB,IAAAc,qBAAY,EAAE,IAAApB,QAAA,CAAAmB,aAAA,EAACD,QAAQ,MAAE,CAAC,EAAEZ,YAAa,CAAC,GAC1C,IAAI;AACR"}