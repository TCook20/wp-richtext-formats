{"version":3,"names":["_element","require","_classnames","_interopRequireDefault","_blockEditor","_i18n","_blocks","_primitives","Gallery","props","captionRef","attributes","isSelected","setAttributes","mediaPlaceholder","insertBlocksAfter","blockProps","__unstableLayoutClassNames","layoutClassNames","showCaption","align","columns","caption","imageCrop","createElement","className","classnames","undefined","children","View","RichText","isEmpty","identifier","__","placeholder","value","__experimentalGetElementClassName","ref","tagName","onChange","inlineToolbar","__unstableOnSplitAtEnd","createBlock","getDefaultBlockName","exports","_default","forwardRef","default"],"sources":["@wordpress/block-library/src/gallery/gallery.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { View } from '@wordpress/primitives';\nimport { forwardRef } from '@wordpress/element';\n\nexport const Gallery = ( props, captionRef ) => {\n\tconst {\n\t\tattributes,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tmediaPlaceholder,\n\t\tinsertBlocksAfter,\n\t\tblockProps,\n\t\t__unstableLayoutClassNames: layoutClassNames,\n\t\tshowCaption,\n\t} = props;\n\n\tconst { align, columns, caption, imageCrop } = attributes;\n\n\treturn (\n\t\t<figure\n\t\t\t{ ...blockProps }\n\t\t\tclassName={ classnames(\n\t\t\t\tblockProps.className,\n\t\t\t\tlayoutClassNames,\n\t\t\t\t'blocks-gallery-grid',\n\t\t\t\t{\n\t\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t\t\t\t[ `columns-default` ]: columns === undefined,\n\t\t\t\t\t'is-cropped': imageCrop,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t{ blockProps.children }\n\t\t\t{ isSelected && ! blockProps.children && (\n\t\t\t\t<View className=\"blocks-gallery-media-placeholder-wrapper\">\n\t\t\t\t\t{ mediaPlaceholder }\n\t\t\t\t</View>\n\t\t\t) }\n\t\t\t{ showCaption &&\n\t\t\t\t( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"caption\"\n\t\t\t\t\t\taria-label={ __( 'Gallery caption text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Write gallery captionâ€¦' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tref={ captionRef }\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter(\n\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t</figure>\n\t);\n};\n\nexport default forwardRef( Gallery );\n"],"mappings":";;;;;;;AAeA,IAAAA,QAAA,GAAAC,OAAA;AAZA,IAAAC,WAAA,GAAAC,sBAAA,CAAAF,OAAA;AAKA,IAAAG,YAAA,GAAAH,OAAA;AAIA,IAAAI,KAAA,GAAAJ,OAAA;AACA,IAAAK,OAAA,GAAAL,OAAA;AACA,IAAAM,WAAA,GAAAN,OAAA;AAdA;AACA;AACA;;AAGA;AACA;AACA;;AAUO,MAAMO,OAAO,GAAGA,CAAEC,KAAK,EAAEC,UAAU,KAAM;EAC/C,MAAM;IACLC,UAAU;IACVC,UAAU;IACVC,aAAa;IACbC,gBAAgB;IAChBC,iBAAiB;IACjBC,UAAU;IACVC,0BAA0B,EAAEC,gBAAgB;IAC5CC;EACD,CAAC,GAAGV,KAAK;EAET,MAAM;IAAEW,KAAK;IAAEC,OAAO;IAAEC,OAAO;IAAEC;EAAU,CAAC,GAAGZ,UAAU;EAEzD,OACC,IAAAX,QAAA,CAAAwB,aAAA;IAAA,GACMR,UAAU;IACfS,SAAS,EAAG,IAAAC,mBAAU,EACrBV,UAAU,CAACS,SAAS,EACpBP,gBAAgB,EAChB,qBAAqB,EACrB;MACC,CAAG,QAAQE,KAAO,EAAC,GAAIA,KAAK;MAC5B,CAAG,WAAWC,OAAS,EAAC,GAAIA,OAAO,KAAKM,SAAS;MACjD,CAAG,iBAAgB,GAAIN,OAAO,KAAKM,SAAS;MAC5C,YAAY,EAAEJ;IACf,CACD;EAAG,GAEDP,UAAU,CAACY,QAAQ,EACnBhB,UAAU,IAAI,CAAEI,UAAU,CAACY,QAAQ,IACpC,IAAA5B,QAAA,CAAAwB,aAAA,EAACjB,WAAA,CAAAsB,IAAI;IAACJ,SAAS,EAAC;EAA0C,GACvDX,gBACG,CACN,EACCK,WAAW,KACV,CAAEW,qBAAQ,CAACC,OAAO,CAAET,OAAQ,CAAC,IAAIV,UAAU,CAAE,IAC9C,IAAAZ,QAAA,CAAAwB,aAAA,EAACpB,YAAA,CAAA0B,QAAQ;IACRE,UAAU,EAAC,SAAS;IACpB,cAAa,IAAAC,QAAE,EAAE,sBAAuB,CAAG;IAC3CC,WAAW,EAAG,IAAAD,QAAE,EAAE,wBAAyB,CAAG;IAC9CE,KAAK,EAAGb,OAAS;IACjBG,SAAS,EAAG,IAAAC,mBAAU,EACrB,wBAAwB,EACxB,IAAAU,8CAAiC,EAAE,SAAU,CAC9C,CAAG;IACHC,GAAG,EAAG3B,UAAY;IAClB4B,OAAO,EAAC,YAAY;IACpBC,QAAQ,EAAKJ,KAAK,IACjBtB,aAAa,CAAE;MAAES,OAAO,EAAEa;IAAM,CAAE,CAClC;IACDK,aAAa;IACbC,sBAAsB,EAAGA,CAAA,KACxB1B,iBAAiB,CAChB,IAAA2B,mBAAW,EAAE,IAAAC,2BAAmB,EAAC,CAAE,CACpC;EACA,CACD,CAEI,CAAC;AAEX,CAAC;AAACC,OAAA,CAAApC,OAAA,GAAAA,OAAA;AAAA,IAAAqC,QAAA,GAEa,IAAAC,mBAAU,EAAEtC,OAAQ,CAAC;AAAAoC,OAAA,CAAAG,OAAA,GAAAF,QAAA"}