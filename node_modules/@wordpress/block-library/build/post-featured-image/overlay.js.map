{"version":3,"names":["_classnames","_interopRequireDefault","require","_components","_blockEditor","_compose","_i18n","_utils","Overlay","clientId","attributes","setAttributes","overlayColor","setOverlayColor","dimRatio","gradientClass","gradientValue","setGradient","__experimentalUseGradient","colorGradientSettings","useMultipleOriginColorsAndGradients","borderProps","useBorderProps","overlayStyles","backgroundColor","color","backgroundImage","style","hasColorsOrGradients","_element","createElement","Fragment","className","classnames","dimRatioToClass","class","undefined","InspectorControls","group","__experimentalColorGradientSettingsDropdown","__experimentalIsRenderedInSidebar","settings","colorValue","label","__","onColorChange","onGradientChange","isShownByDefault","resetAllFilter","customOverlayColor","gradient","customGradient","panelId","__experimentalToolsPanelItem","hasValue","onDeselect","RangeControl","__nextHasNoMarginBottom","value","onChange","newDimRatio","min","max","step","required","_default","compose","withColors","exports","default"],"sources":["@wordpress/block-library/src/post-featured-image/overlay.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRangeControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport {\n\tInspectorControls,\n\twithColors,\n\t__experimentalColorGradientSettingsDropdown as ColorGradientSettingsDropdown,\n\t__experimentalUseGradient,\n\t__experimentalUseMultipleOriginColorsAndGradients as useMultipleOriginColorsAndGradients,\n\t__experimentalUseBorderProps as useBorderProps,\n} from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { dimRatioToClass } from './utils';\n\nconst Overlay = ( {\n\tclientId,\n\tattributes,\n\tsetAttributes,\n\toverlayColor,\n\tsetOverlayColor,\n} ) => {\n\tconst { dimRatio } = attributes;\n\tconst { gradientClass, gradientValue, setGradient } =\n\t\t__experimentalUseGradient();\n\tconst colorGradientSettings = useMultipleOriginColorsAndGradients();\n\n\tconst borderProps = useBorderProps( attributes );\n\tconst overlayStyles = {\n\t\tbackgroundColor: overlayColor.color,\n\t\tbackgroundImage: gradientValue,\n\t\t...borderProps.style,\n\t};\n\n\tif ( ! colorGradientSettings.hasColorsOrGradients ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ !! dimRatio && (\n\t\t\t\t<span\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-post-featured-image__overlay',\n\t\t\t\t\t\tdimRatioToClass( dimRatio ),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t[ overlayColor.class ]: overlayColor.class,\n\t\t\t\t\t\t\t'has-background-dim': dimRatio !== undefined,\n\t\t\t\t\t\t\t'has-background-gradient': gradientValue,\n\t\t\t\t\t\t\t[ gradientClass ]: gradientClass,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tborderProps.className\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={ overlayStyles }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<InspectorControls group=\"color\">\n\t\t\t\t<ColorGradientSettingsDropdown\n\t\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t\tsettings={ [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcolorValue: overlayColor.color,\n\t\t\t\t\t\t\tgradientValue,\n\t\t\t\t\t\t\tlabel: __( 'Overlay' ),\n\t\t\t\t\t\t\tonColorChange: setOverlayColor,\n\t\t\t\t\t\t\tonGradientChange: setGradient,\n\t\t\t\t\t\t\tisShownByDefault: true,\n\t\t\t\t\t\t\tresetAllFilter: () => ( {\n\t\t\t\t\t\t\t\toverlayColor: undefined,\n\t\t\t\t\t\t\t\tcustomOverlayColor: undefined,\n\t\t\t\t\t\t\t\tgradient: undefined,\n\t\t\t\t\t\t\t\tcustomGradient: undefined,\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t},\n\t\t\t\t\t] }\n\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t\t{ ...colorGradientSettings }\n\t\t\t\t/>\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ () => dimRatio !== undefined }\n\t\t\t\t\tlabel={ __( 'Overlay opacity' ) }\n\t\t\t\t\tonDeselect={ () => setAttributes( { dimRatio: 0 } ) }\n\t\t\t\t\tresetAllFilter={ () => ( {\n\t\t\t\t\t\tdimRatio: 0,\n\t\t\t\t\t} ) }\n\t\t\t\t\tisShownByDefault\n\t\t\t\t\tpanelId={ clientId }\n\t\t\t\t>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Overlay opacity' ) }\n\t\t\t\t\t\tvalue={ dimRatio }\n\t\t\t\t\t\tonChange={ ( newDimRatio ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tdimRatio: newDimRatio,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n};\n\nexport default compose( [\n\twithColors( { overlayColor: 'background-color' } ),\n] )( Overlay );\n"],"mappings":"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"}