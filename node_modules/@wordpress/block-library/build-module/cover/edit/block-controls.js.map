{"version":3,"names":["useState","BlockControls","MediaReplaceFlow","__experimentalBlockAlignmentMatrixControl","BlockAlignmentMatrixControl","__experimentalBlockFullHeightAligmentControl","FullHeightAlignmentControl","__","ALLOWED_MEDIA_TYPES","CoverBlockControls","attributes","setAttributes","onSelectMedia","currentSettings","toggleUseFeaturedImage","contentPosition","id","useFeaturedImage","minHeight","minHeightUnit","hasInnerBlocks","url","prevMinHeightValue","setPrevMinHeightValue","prevMinHeightUnit","setPrevMinHeightUnit","isMinFullHeight","toggleMinFullHeight","undefined","createElement","Fragment","group","label","value","onChange","nextPosition","isDisabled","isActive","onToggle","mediaId","mediaURL","allowedTypes","accept","onSelect","onToggleFeaturedImage","name"],"sources":["@wordpress/block-library/src/cover/edit/block-controls.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\n\nimport {\n\tBlockControls,\n\tMediaReplaceFlow,\n\t__experimentalBlockAlignmentMatrixControl as BlockAlignmentMatrixControl,\n\t__experimentalBlockFullHeightAligmentControl as FullHeightAlignmentControl,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { ALLOWED_MEDIA_TYPES } from '../shared';\n\nexport default function CoverBlockControls( {\n\tattributes,\n\tsetAttributes,\n\tonSelectMedia,\n\tcurrentSettings,\n\ttoggleUseFeaturedImage,\n} ) {\n\tconst { contentPosition, id, useFeaturedImage, minHeight, minHeightUnit } =\n\t\tattributes;\n\tconst { hasInnerBlocks, url } = currentSettings;\n\n\tconst [ prevMinHeightValue, setPrevMinHeightValue ] = useState( minHeight );\n\tconst [ prevMinHeightUnit, setPrevMinHeightUnit ] =\n\t\tuseState( minHeightUnit );\n\tconst isMinFullHeight = minHeightUnit === 'vh' && minHeight === 100;\n\tconst toggleMinFullHeight = () => {\n\t\tif ( isMinFullHeight ) {\n\t\t\t// If there aren't previous values, take the default ones.\n\t\t\tif ( prevMinHeightUnit === 'vh' && prevMinHeightValue === 100 ) {\n\t\t\t\treturn setAttributes( {\n\t\t\t\t\tminHeight: undefined,\n\t\t\t\t\tminHeightUnit: undefined,\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\t// Set the previous values of height.\n\t\t\treturn setAttributes( {\n\t\t\t\tminHeight: prevMinHeightValue,\n\t\t\t\tminHeightUnit: prevMinHeightUnit,\n\t\t\t} );\n\t\t}\n\n\t\tsetPrevMinHeightValue( minHeight );\n\t\tsetPrevMinHeightUnit( minHeightUnit );\n\n\t\t// Set full height.\n\t\treturn setAttributes( {\n\t\t\tminHeight: 100,\n\t\t\tminHeightUnit: 'vh',\n\t\t} );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<BlockAlignmentMatrixControl\n\t\t\t\t\tlabel={ __( 'Change content position' ) }\n\t\t\t\t\tvalue={ contentPosition }\n\t\t\t\t\tonChange={ ( nextPosition ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcontentPosition: nextPosition,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tisDisabled={ ! hasInnerBlocks }\n\t\t\t\t/>\n\t\t\t\t<FullHeightAlignmentControl\n\t\t\t\t\tisActive={ isMinFullHeight }\n\t\t\t\t\tonToggle={ toggleMinFullHeight }\n\t\t\t\t\tisDisabled={ ! hasInnerBlocks }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tmediaId={ id }\n\t\t\t\t\tmediaURL={ url }\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\tonToggleFeaturedImage={ toggleUseFeaturedImage }\n\t\t\t\t\tuseFeaturedImage={ useFeaturedImage }\n\t\t\t\t\tname={ ! url ? __( 'Add Media' ) : __( 'Replace' ) }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t</>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,oBAAoB;AAE7C,SACCC,aAAa,EACbC,gBAAgB,EAChBC,yCAAyC,IAAIC,2BAA2B,EACxEC,4CAA4C,IAAIC,0BAA0B,QACpE,yBAAyB;AAChC,SAASC,EAAE,QAAQ,iBAAiB;;AAEpC;AACA;AACA;AACA,SAASC,mBAAmB,QAAQ,WAAW;AAE/C,eAAe,SAASC,kBAAkBA,CAAE;EAC3CC,UAAU;EACVC,aAAa;EACbC,aAAa;EACbC,eAAe;EACfC;AACD,CAAC,EAAG;EACH,MAAM;IAAEC,eAAe;IAAEC,EAAE;IAAEC,gBAAgB;IAAEC,SAAS;IAAEC;EAAc,CAAC,GACxET,UAAU;EACX,MAAM;IAAEU,cAAc;IAAEC;EAAI,CAAC,GAAGR,eAAe;EAE/C,MAAM,CAAES,kBAAkB,EAAEC,qBAAqB,CAAE,GAAGvB,QAAQ,CAAEkB,SAAU,CAAC;EAC3E,MAAM,CAAEM,iBAAiB,EAAEC,oBAAoB,CAAE,GAChDzB,QAAQ,CAAEmB,aAAc,CAAC;EAC1B,MAAMO,eAAe,GAAGP,aAAa,KAAK,IAAI,IAAID,SAAS,KAAK,GAAG;EACnE,MAAMS,mBAAmB,GAAGA,CAAA,KAAM;IACjC,IAAKD,eAAe,EAAG;MACtB;MACA,IAAKF,iBAAiB,KAAK,IAAI,IAAIF,kBAAkB,KAAK,GAAG,EAAG;QAC/D,OAAOX,aAAa,CAAE;UACrBO,SAAS,EAAEU,SAAS;UACpBT,aAAa,EAAES;QAChB,CAAE,CAAC;MACJ;;MAEA;MACA,OAAOjB,aAAa,CAAE;QACrBO,SAAS,EAAEI,kBAAkB;QAC7BH,aAAa,EAAEK;MAChB,CAAE,CAAC;IACJ;IAEAD,qBAAqB,CAAEL,SAAU,CAAC;IAClCO,oBAAoB,CAAEN,aAAc,CAAC;;IAErC;IACA,OAAOR,aAAa,CAAE;MACrBO,SAAS,EAAE,GAAG;MACdC,aAAa,EAAE;IAChB,CAAE,CAAC;EACJ,CAAC;EAED,OACCU,aAAA,CAAAC,QAAA,QACCD,aAAA,CAAC5B,aAAa;IAAC8B,KAAK,EAAC;EAAO,GAC3BF,aAAA,CAACzB,2BAA2B;IAC3B4B,KAAK,EAAGzB,EAAE,CAAE,yBAA0B,CAAG;IACzC0B,KAAK,EAAGlB,eAAiB;IACzBmB,QAAQ,EAAKC,YAAY,IACxBxB,aAAa,CAAE;MACdI,eAAe,EAAEoB;IAClB,CAAE,CACF;IACDC,UAAU,EAAG,CAAEhB;EAAgB,CAC/B,CAAC,EACFS,aAAA,CAACvB,0BAA0B;IAC1B+B,QAAQ,EAAGX,eAAiB;IAC5BY,QAAQ,EAAGX,mBAAqB;IAChCS,UAAU,EAAG,CAAEhB;EAAgB,CAC/B,CACa,CAAC,EAChBS,aAAA,CAAC5B,aAAa;IAAC8B,KAAK,EAAC;EAAO,GAC3BF,aAAA,CAAC3B,gBAAgB;IAChBqC,OAAO,EAAGvB,EAAI;IACdwB,QAAQ,EAAGnB,GAAK;IAChBoB,YAAY,EAAGjC,mBAAqB;IACpCkC,MAAM,EAAC,iBAAiB;IACxBC,QAAQ,EAAG/B,aAAe;IAC1BgC,qBAAqB,EAAG9B,sBAAwB;IAChDG,gBAAgB,EAAGA,gBAAkB;IACrC4B,IAAI,EAAG,CAAExB,GAAG,GAAGd,EAAE,CAAE,WAAY,CAAC,GAAGA,EAAE,CAAE,SAAU;EAAG,CACpD,CACa,CACd,CAAC;AAEL"}