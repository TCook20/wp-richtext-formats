{"version":3,"names":["createContext","useContext","useEffect","signal","slotsContext","Fill","slot","children","slots","value","SlotProvider","createElement","Provider","Slot","name"],"sources":["@wordpress/interactivity/src/slots.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { createContext } from 'preact';\nimport { useContext, useEffect } from 'preact/hooks';\nimport { signal } from '@preact/signals';\n\nconst slotsContext = createContext();\n\nexport const Fill = ( { slot, children } ) => {\n\tconst slots = useContext( slotsContext );\n\n\tuseEffect( () => {\n\t\tif ( slot ) {\n\t\t\tslots.value = { ...slots.value, [ slot ]: children };\n\t\t\treturn () => {\n\t\t\t\tslots.value = { ...slots.value, [ slot ]: null };\n\t\t\t};\n\t\t}\n\t}, [ slots, slot, children ] );\n\n\treturn !! slot ? null : children;\n};\n\nexport const SlotProvider = ( { children } ) => {\n\treturn (\n\t\t// TODO: We can change this to use deepsignal once this PR is merged.\n\t\t// https://github.com/luisherranz/deepsignal/pull/38\n\t\t<slotsContext.Provider value={ signal( {} ) }>\n\t\t\t{ children }\n\t\t</slotsContext.Provider>\n\t);\n};\n\nexport const Slot = ( { name, children } ) => {\n\tconst slots = useContext( slotsContext );\n\treturn slots.value[ name ] || children;\n};\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,aAAa,QAAQ,QAAQ;AACtC,SAASC,UAAU,EAAEC,SAAS,QAAQ,cAAc;AACpD,SAASC,MAAM,QAAQ,iBAAiB;AAExC,MAAMC,YAAY,GAAGJ,aAAa,CAAC,CAAC;AAEpC,OAAO,MAAMK,IAAI,GAAGA,CAAE;EAAEC,IAAI;EAAEC;AAAS,CAAC,KAAM;EAC7C,MAAMC,KAAK,GAAGP,UAAU,CAAEG,YAAa,CAAC;EAExCF,SAAS,CAAE,MAAM;IAChB,IAAKI,IAAI,EAAG;MACXE,KAAK,CAACC,KAAK,GAAG;QAAE,GAAGD,KAAK,CAACC,KAAK;QAAE,CAAEH,IAAI,GAAIC;MAAS,CAAC;MACpD,OAAO,MAAM;QACZC,KAAK,CAACC,KAAK,GAAG;UAAE,GAAGD,KAAK,CAACC,KAAK;UAAE,CAAEH,IAAI,GAAI;QAAK,CAAC;MACjD,CAAC;IACF;EACD,CAAC,EAAE,CAAEE,KAAK,EAAEF,IAAI,EAAEC,QAAQ,CAAG,CAAC;EAE9B,OAAO,CAAC,CAAED,IAAI,GAAG,IAAI,GAAGC,QAAQ;AACjC,CAAC;AAED,OAAO,MAAMG,YAAY,GAAGA,CAAE;EAAEH;AAAS,CAAC,KAAM;EAC/C;IACC;IACA;IACAI,aAAA,CAACP,YAAY,CAACQ,QAAQ;MAACH,KAAK,EAAGN,MAAM,CAAE,CAAC,CAAE;IAAG,GAC1CI,QACoB;EAAC;AAE1B,CAAC;AAED,OAAO,MAAMM,IAAI,GAAGA,CAAE;EAAEC,IAAI;EAAEP;AAAS,CAAC,KAAM;EAC7C,MAAMC,KAAK,GAAGP,UAAU,CAAEG,YAAa,CAAC;EACxC,OAAOI,KAAK,CAACC,KAAK,CAAEK,IAAI,CAAE,IAAIP,QAAQ;AACvC,CAAC"}