{"version":3,"names":["fastDeepEqual","compose","combineReducers","isShallowEqual","ifMatchingAction","replaceAction","reducer","queriedDataReducer","rootEntitiesConfig","DEFAULT_ENTITY_KEY","terms","state","action","type","taxonomy","users","byId","queries","reduce","newUsers","user","id","queryID","map","currentUser","taxonomies","currentTheme","undefined","stylesheet","currentGlobalStylesId","themeBaseGlobalStyles","globalStyles","themeGlobalStyleVariations","variations","withMultiEntityRecordEdits","stackedEdits","newState","forEach","kind","name","recordId","property","from","to","edits","entity","entityConfig","key","queriedData","_action$query$context","context","query","nextState","record","items","nextEdits","Object","keys","acc","_record$key$raw","raw","persistedEdits","length","saving","pending","error","isAutosave","deleting","entitiesConfig","entities","newConfig","config","entitiesDataReducer","entitiesByKind","push","entries","memo","subEntities","kindReducer","kindMemo","newData","records","UNDO_INITIAL_STATE","list","offset","undo","omitPendingRedos","currentState","slice","appendCachedEditsToLastUndo","cache","previousUndoState","pop","updatedUndoState","appendEditToStack","stack","existingEditIndex","findIndex","k","n","r","p","nextStack","meta","isCached","comparisonUndoEdits","values","filter","edit","comparisonEdits","embedPreviews","url","preview","userPermissions","isAllowed","autosaves","postId","autosavesData","blockPatterns","patterns","blockPatternCategories","categories","navigationFallbackId","fallbackId","themeGlobalStyleRevisions","currentId","revisions"],"sources":["@wordpress/core-data/src/reducer.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { combineReducers } from '@wordpress/data';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport { ifMatchingAction, replaceAction } from './utils';\nimport { reducer as queriedDataReducer } from './queried-data';\nimport { rootEntitiesConfig, DEFAULT_ENTITY_KEY } from './entities';\n\n/** @typedef {import('./types').AnyFunction} AnyFunction */\n\n/**\n * Reducer managing terms state. Keyed by taxonomy slug, the value is either\n * undefined (if no request has been made for given taxonomy), null (if a\n * request is in-flight for given taxonomy), or the array of terms for the\n * taxonomy.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function terms( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_TERMS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.taxonomy ]: action.terms,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing authors state. Keyed by id.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function users( state = { byId: {}, queries: {} }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_USER_QUERY':\n\t\t\treturn {\n\t\t\t\tbyId: {\n\t\t\t\t\t...state.byId,\n\t\t\t\t\t// Key users by their ID.\n\t\t\t\t\t...action.users.reduce(\n\t\t\t\t\t\t( newUsers, user ) => ( {\n\t\t\t\t\t\t\t...newUsers,\n\t\t\t\t\t\t\t[ user.id ]: user,\n\t\t\t\t\t\t} ),\n\t\t\t\t\t\t{}\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tqueries: {\n\t\t\t\t\t...state.queries,\n\t\t\t\t\t[ action.queryID ]: action.users.map( ( user ) => user.id ),\n\t\t\t\t},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing current user state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function currentUser( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_CURRENT_USER':\n\t\t\treturn action.currentUser;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing taxonomies.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function taxonomies( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_TAXONOMIES':\n\t\t\treturn action.taxonomies;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the current theme.\n *\n * @param {string|undefined} state  Current state.\n * @param {Object}           action Dispatched action.\n *\n * @return {string|undefined} Updated state.\n */\nexport function currentTheme( state = undefined, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_CURRENT_THEME':\n\t\t\treturn action.currentTheme.stylesheet;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the current global styles id.\n *\n * @param {string|undefined} state  Current state.\n * @param {Object}           action Dispatched action.\n *\n * @return {string|undefined} Updated state.\n */\nexport function currentGlobalStylesId( state = undefined, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_CURRENT_GLOBAL_STYLES_ID':\n\t\t\treturn action.id;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the theme base global styles.\n *\n * @param {Record<string, object>} state  Current state.\n * @param {Object}                 action Dispatched action.\n *\n * @return {Record<string, object>} Updated state.\n */\nexport function themeBaseGlobalStyles( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_THEME_GLOBAL_STYLES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.stylesheet ]: action.globalStyles,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the theme global styles variations.\n *\n * @param {Record<string, object>} state  Current state.\n * @param {Object}                 action Dispatched action.\n *\n * @return {Record<string, object>} Updated state.\n */\nexport function themeGlobalStyleVariations( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_THEME_GLOBAL_STYLE_VARIATIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.stylesheet ]: action.variations,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nconst withMultiEntityRecordEdits = ( reducer ) => ( state, action ) => {\n\tif ( action.type === 'UNDO' || action.type === 'REDO' ) {\n\t\tconst { stackedEdits } = action;\n\n\t\tlet newState = state;\n\t\tstackedEdits.forEach(\n\t\t\t( { kind, name, recordId, property, from, to } ) => {\n\t\t\t\tnewState = reducer( newState, {\n\t\t\t\t\ttype: 'EDIT_ENTITY_RECORD',\n\t\t\t\t\tkind,\n\t\t\t\t\tname,\n\t\t\t\t\trecordId,\n\t\t\t\t\tedits: {\n\t\t\t\t\t\t[ property ]: action.type === 'UNDO' ? from : to,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t);\n\t\treturn newState;\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Higher Order Reducer for a given entity config. It supports:\n *\n *  - Fetching\n *  - Editing\n *  - Saving\n *\n * @param {Object} entityConfig Entity config.\n *\n * @return {AnyFunction} Reducer.\n */\nfunction entity( entityConfig ) {\n\treturn compose( [\n\t\twithMultiEntityRecordEdits,\n\n\t\t// Limit to matching action type so we don't attempt to replace action on\n\t\t// an unhandled action.\n\t\tifMatchingAction(\n\t\t\t( action ) =>\n\t\t\t\taction.name &&\n\t\t\t\taction.kind &&\n\t\t\t\taction.name === entityConfig.name &&\n\t\t\t\taction.kind === entityConfig.kind\n\t\t),\n\n\t\t// Inject the entity config into the action.\n\t\treplaceAction( ( action ) => {\n\t\t\treturn {\n\t\t\t\t...action,\n\t\t\t\tkey: entityConfig.key || DEFAULT_ENTITY_KEY,\n\t\t\t};\n\t\t} ),\n\t] )(\n\t\tcombineReducers( {\n\t\t\tqueriedData: queriedDataReducer,\n\n\t\t\tedits: ( state = {}, action ) => {\n\t\t\t\tswitch ( action.type ) {\n\t\t\t\t\tcase 'RECEIVE_ITEMS':\n\t\t\t\t\t\tconst context = action?.query?.context ?? 'default';\n\t\t\t\t\t\tif ( context !== 'default' ) {\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst nextState = { ...state };\n\n\t\t\t\t\t\tfor ( const record of action.items ) {\n\t\t\t\t\t\t\tconst recordId = record[ action.key ];\n\t\t\t\t\t\t\tconst edits = nextState[ recordId ];\n\t\t\t\t\t\t\tif ( ! edits ) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst nextEdits = Object.keys( edits ).reduce(\n\t\t\t\t\t\t\t\t( acc, key ) => {\n\t\t\t\t\t\t\t\t\t// If the edited value is still different to the persisted value,\n\t\t\t\t\t\t\t\t\t// keep the edited value in edits.\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t// Edits are the \"raw\" attribute values, but records may have\n\t\t\t\t\t\t\t\t\t\t// objects with more properties, so we use `get` here for the\n\t\t\t\t\t\t\t\t\t\t// comparison.\n\t\t\t\t\t\t\t\t\t\t! fastDeepEqual(\n\t\t\t\t\t\t\t\t\t\t\tedits[ key ],\n\t\t\t\t\t\t\t\t\t\t\trecord[ key ]?.raw ?? record[ key ]\n\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t// Sometimes the server alters the sent value which means\n\t\t\t\t\t\t\t\t\t\t// we need to also remove the edits before the api request.\n\t\t\t\t\t\t\t\t\t\t( ! action.persistedEdits ||\n\t\t\t\t\t\t\t\t\t\t\t! fastDeepEqual(\n\t\t\t\t\t\t\t\t\t\t\t\tedits[ key ],\n\t\t\t\t\t\t\t\t\t\t\t\taction.persistedEdits[ key ]\n\t\t\t\t\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tacc[ key ] = edits[ key ];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( Object.keys( nextEdits ).length ) {\n\t\t\t\t\t\t\t\tnextState[ recordId ] = nextEdits;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdelete nextState[ recordId ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn nextState;\n\n\t\t\t\t\tcase 'EDIT_ENTITY_RECORD':\n\t\t\t\t\t\tconst nextEdits = {\n\t\t\t\t\t\t\t...state[ action.recordId ],\n\t\t\t\t\t\t\t...action.edits,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tObject.keys( nextEdits ).forEach( ( key ) => {\n\t\t\t\t\t\t\t// Delete cleared edits so that the properties\n\t\t\t\t\t\t\t// are not considered dirty.\n\t\t\t\t\t\t\tif ( nextEdits[ key ] === undefined ) {\n\t\t\t\t\t\t\t\tdelete nextEdits[ key ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t[ action.recordId ]: nextEdits,\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t},\n\n\t\t\tsaving: ( state = {}, action ) => {\n\t\t\t\tswitch ( action.type ) {\n\t\t\t\t\tcase 'SAVE_ENTITY_RECORD_START':\n\t\t\t\t\tcase 'SAVE_ENTITY_RECORD_FINISH':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t[ action.recordId ]: {\n\t\t\t\t\t\t\t\tpending:\n\t\t\t\t\t\t\t\t\taction.type === 'SAVE_ENTITY_RECORD_START',\n\t\t\t\t\t\t\t\terror: action.error,\n\t\t\t\t\t\t\t\tisAutosave: action.isAutosave,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t},\n\n\t\t\tdeleting: ( state = {}, action ) => {\n\t\t\t\tswitch ( action.type ) {\n\t\t\t\t\tcase 'DELETE_ENTITY_RECORD_START':\n\t\t\t\t\tcase 'DELETE_ENTITY_RECORD_FINISH':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t[ action.recordId ]: {\n\t\t\t\t\t\t\t\tpending:\n\t\t\t\t\t\t\t\t\taction.type ===\n\t\t\t\t\t\t\t\t\t'DELETE_ENTITY_RECORD_START',\n\t\t\t\t\t\t\t\terror: action.error,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t},\n\t\t} )\n\t);\n}\n\n/**\n * Reducer keeping track of the registered entities.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function entitiesConfig( state = rootEntitiesConfig, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_ENTITIES':\n\t\t\treturn [ ...state, ...action.entities ];\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the registered entities config and data.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const entities = ( state = {}, action ) => {\n\tconst newConfig = entitiesConfig( state.config, action );\n\n\t// Generates a dynamic reducer for the entities.\n\tlet entitiesDataReducer = state.reducer;\n\tif ( ! entitiesDataReducer || newConfig !== state.config ) {\n\t\tconst entitiesByKind = newConfig.reduce( ( acc, record ) => {\n\t\t\tconst { kind } = record;\n\t\t\tif ( ! acc[ kind ] ) {\n\t\t\t\tacc[ kind ] = [];\n\t\t\t}\n\t\t\tacc[ kind ].push( record );\n\t\t\treturn acc;\n\t\t}, {} );\n\n\t\tentitiesDataReducer = combineReducers(\n\t\t\tObject.entries( entitiesByKind ).reduce(\n\t\t\t\t( memo, [ kind, subEntities ] ) => {\n\t\t\t\t\tconst kindReducer = combineReducers(\n\t\t\t\t\t\tsubEntities.reduce(\n\t\t\t\t\t\t\t( kindMemo, entityConfig ) => ( {\n\t\t\t\t\t\t\t\t...kindMemo,\n\t\t\t\t\t\t\t\t[ entityConfig.name ]: entity( entityConfig ),\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tmemo[ kind ] = kindReducer;\n\t\t\t\t\treturn memo;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t)\n\t\t);\n\t}\n\n\tconst newData = entitiesDataReducer( state.records, action );\n\n\tif (\n\t\tnewData === state.records &&\n\t\tnewConfig === state.config &&\n\t\tentitiesDataReducer === state.reducer\n\t) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\treducer: entitiesDataReducer,\n\t\trecords: newData,\n\t\tconfig: newConfig,\n\t};\n};\n\n/**\n * @typedef {Object} UndoStateMeta\n *\n * @property {number} list   The undo stack.\n * @property {number} offset Where in the undo stack we are.\n * @property {Object} cache  Cache of unpersisted edits.\n */\n\n/** @typedef {Array<Object> & UndoStateMeta} UndoState */\n\n/**\n * @type {UndoState}\n *\n * @todo Given how we use this we might want to make a custom class for it.\n */\nconst UNDO_INITIAL_STATE = { list: [], offset: 0 };\n\n/**\n * Reducer keeping track of entity edit undo history.\n *\n * @param {UndoState} state  Current state.\n * @param {Object}    action Dispatched action.\n *\n * @return {UndoState} Updated state.\n */\nexport function undo( state = UNDO_INITIAL_STATE, action ) {\n\tconst omitPendingRedos = ( currentState ) => {\n\t\treturn {\n\t\t\t...currentState,\n\t\t\tlist: currentState.list.slice(\n\t\t\t\t0,\n\t\t\t\tcurrentState.offset || undefined\n\t\t\t),\n\t\t\toffset: 0,\n\t\t};\n\t};\n\n\tconst appendCachedEditsToLastUndo = ( currentState ) => {\n\t\tif ( ! currentState.cache ) {\n\t\t\treturn currentState;\n\t\t}\n\n\t\tlet nextState = {\n\t\t\t...currentState,\n\t\t\tlist: [ ...currentState.list ],\n\t\t};\n\t\tnextState = omitPendingRedos( nextState );\n\t\tconst previousUndoState = nextState.list.pop();\n\t\tconst updatedUndoState = currentState.cache.reduce(\n\t\t\tappendEditToStack,\n\t\t\tpreviousUndoState\n\t\t);\n\t\tnextState.list.push( updatedUndoState );\n\n\t\treturn {\n\t\t\t...nextState,\n\t\t\tcache: undefined,\n\t\t};\n\t};\n\n\tconst appendEditToStack = (\n\t\tstack = [],\n\t\t{ kind, name, recordId, property, from, to }\n\t) => {\n\t\tconst existingEditIndex = stack?.findIndex(\n\t\t\t( { kind: k, name: n, recordId: r, property: p } ) => {\n\t\t\t\treturn (\n\t\t\t\t\tk === kind && n === name && r === recordId && p === property\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\tconst nextStack = [ ...stack ];\n\t\tif ( existingEditIndex !== -1 ) {\n\t\t\t// If the edit is already in the stack leave the initial \"from\" value.\n\t\t\tnextStack[ existingEditIndex ] = {\n\t\t\t\t...nextStack[ existingEditIndex ],\n\t\t\t\tto,\n\t\t\t};\n\t\t} else {\n\t\t\tnextStack.push( {\n\t\t\t\tkind,\n\t\t\t\tname,\n\t\t\t\trecordId,\n\t\t\t\tproperty,\n\t\t\t\tfrom,\n\t\t\t\tto,\n\t\t\t} );\n\t\t}\n\t\treturn nextStack;\n\t};\n\n\tswitch ( action.type ) {\n\t\tcase 'CREATE_UNDO_LEVEL':\n\t\t\treturn appendCachedEditsToLastUndo( state );\n\n\t\tcase 'UNDO':\n\t\tcase 'REDO': {\n\t\t\tconst nextState = appendCachedEditsToLastUndo( state );\n\t\t\treturn {\n\t\t\t\t...nextState,\n\t\t\t\toffset: state.offset + ( action.type === 'UNDO' ? -1 : 1 ),\n\t\t\t};\n\t\t}\n\n\t\tcase 'EDIT_ENTITY_RECORD': {\n\t\t\tif ( ! action.meta.undo ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst edits = Object.keys( action.edits ).map( ( key ) => {\n\t\t\t\treturn {\n\t\t\t\t\tkind: action.kind,\n\t\t\t\t\tname: action.name,\n\t\t\t\t\trecordId: action.recordId,\n\t\t\t\t\tproperty: key,\n\t\t\t\t\tfrom: action.meta.undo.edits[ key ],\n\t\t\t\t\tto: action.edits[ key ],\n\t\t\t\t};\n\t\t\t} );\n\n\t\t\tif ( action.meta.undo.isCached ) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tcache: edits.reduce( appendEditToStack, state.cache ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet nextState = omitPendingRedos( state );\n\t\t\tnextState = appendCachedEditsToLastUndo( nextState );\n\t\t\tnextState = { ...nextState, list: [ ...nextState.list ] };\n\t\t\t// When an edit is a function it's an optimization to avoid running some expensive operation.\n\t\t\t// We can't rely on the function references being the same so we opt out of comparing them here.\n\t\t\tconst comparisonUndoEdits = Object.values(\n\t\t\t\taction.meta.undo.edits\n\t\t\t).filter( ( edit ) => typeof edit !== 'function' );\n\t\t\tconst comparisonEdits = Object.values( action.edits ).filter(\n\t\t\t\t( edit ) => typeof edit !== 'function'\n\t\t\t);\n\t\t\tif ( ! isShallowEqual( comparisonUndoEdits, comparisonEdits ) ) {\n\t\t\t\tnextState.list.push( edits );\n\t\t\t}\n\n\t\t\treturn nextState;\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing embed preview data.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function embedPreviews( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_EMBED_PREVIEW':\n\t\t\tconst { url, preview } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ url ]: preview,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * State which tracks whether the user can perform an action on a REST\n * resource.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function userPermissions( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_USER_PERMISSION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.key ]: action.isAllowed,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning autosaves keyed by their parent's post id.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function autosaves( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_AUTOSAVES':\n\t\t\tconst { postId, autosaves: autosavesData } = action;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ postId ]: autosavesData,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport function blockPatterns( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_BLOCK_PATTERNS':\n\t\t\treturn action.patterns;\n\t}\n\n\treturn state;\n}\n\nexport function blockPatternCategories( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_BLOCK_PATTERN_CATEGORIES':\n\t\t\treturn action.categories;\n\t}\n\n\treturn state;\n}\n\nexport function navigationFallbackId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_NAVIGATION_FALLBACK_ID':\n\t\t\treturn action.fallbackId;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the theme global styles revisions.\n *\n * @param {Record<string, object>} state  Current state.\n * @param {Object}                 action Dispatched action.\n *\n * @return {Record<string, object>} Updated state.\n */\nexport function themeGlobalStyleRevisions( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_THEME_GLOBAL_STYLE_REVISIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.currentId ]: action.revisions,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tterms,\n\tusers,\n\tcurrentTheme,\n\tcurrentGlobalStylesId,\n\tcurrentUser,\n\tthemeGlobalStyleVariations,\n\tthemeBaseGlobalStyles,\n\tthemeGlobalStyleRevisions,\n\ttaxonomies,\n\tentities,\n\tundo,\n\tembedPreviews,\n\tuserPermissions,\n\tautosaves,\n\tblockPatterns,\n\tblockPatternCategories,\n\tnavigationFallbackId,\n} );\n"],"mappings":"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"}