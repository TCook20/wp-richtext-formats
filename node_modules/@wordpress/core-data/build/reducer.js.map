{"version":3,"names":["_es","_interopRequireDefault","require","_compose","_data","_isShallowEqual","_utils","_queriedData","_entities","terms","state","action","type","taxonomy","users","byId","queries","reduce","newUsers","user","id","queryID","map","currentUser","taxonomies","currentTheme","undefined","stylesheet","currentGlobalStylesId","themeBaseGlobalStyles","globalStyles","themeGlobalStyleVariations","variations","withMultiEntityRecordEdits","reducer","stackedEdits","newState","forEach","kind","name","recordId","property","from","to","edits","entity","entityConfig","compose","ifMatchingAction","replaceAction","key","DEFAULT_ENTITY_KEY","combineReducers","queriedData","queriedDataReducer","_action$query$context","context","query","nextState","record","items","nextEdits","Object","keys","acc","_record$key$raw","fastDeepEqual","raw","persistedEdits","length","saving","pending","error","isAutosave","deleting","entitiesConfig","rootEntitiesConfig","entities","newConfig","config","entitiesDataReducer","entitiesByKind","push","entries","memo","subEntities","kindReducer","kindMemo","newData","records","exports","UNDO_INITIAL_STATE","list","offset","undo","omitPendingRedos","currentState","slice","appendCachedEditsToLastUndo","cache","previousUndoState","pop","updatedUndoState","appendEditToStack","stack","existingEditIndex","findIndex","k","n","r","p","nextStack","meta","isCached","comparisonUndoEdits","values","filter","edit","comparisonEdits","isShallowEqual","embedPreviews","url","preview","userPermissions","isAllowed","autosaves","postId","autosavesData","blockPatterns","patterns","blockPatternCategories","categories","navigationFallbackId","fallbackId","themeGlobalStyleRevisions","currentId","revisions","_default","default"],"sources":["@wordpress/core-data/src/reducer.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal/es6';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { combineReducers } from '@wordpress/data';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport { ifMatchingAction, replaceAction } from './utils';\nimport { reducer as queriedDataReducer } from './queried-data';\nimport { rootEntitiesConfig, DEFAULT_ENTITY_KEY } from './entities';\n\n/** @typedef {import('./types').AnyFunction} AnyFunction */\n\n/**\n * Reducer managing terms state. Keyed by taxonomy slug, the value is either\n * undefined (if no request has been made for given taxonomy), null (if a\n * request is in-flight for given taxonomy), or the array of terms for the\n * taxonomy.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function terms( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_TERMS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.taxonomy ]: action.terms,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing authors state. Keyed by id.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function users( state = { byId: {}, queries: {} }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_USER_QUERY':\n\t\t\treturn {\n\t\t\t\tbyId: {\n\t\t\t\t\t...state.byId,\n\t\t\t\t\t// Key users by their ID.\n\t\t\t\t\t...action.users.reduce(\n\t\t\t\t\t\t( newUsers, user ) => ( {\n\t\t\t\t\t\t\t...newUsers,\n\t\t\t\t\t\t\t[ user.id ]: user,\n\t\t\t\t\t\t} ),\n\t\t\t\t\t\t{}\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tqueries: {\n\t\t\t\t\t...state.queries,\n\t\t\t\t\t[ action.queryID ]: action.users.map( ( user ) => user.id ),\n\t\t\t\t},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing current user state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function currentUser( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_CURRENT_USER':\n\t\t\treturn action.currentUser;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing taxonomies.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function taxonomies( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_TAXONOMIES':\n\t\t\treturn action.taxonomies;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the current theme.\n *\n * @param {string|undefined} state  Current state.\n * @param {Object}           action Dispatched action.\n *\n * @return {string|undefined} Updated state.\n */\nexport function currentTheme( state = undefined, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_CURRENT_THEME':\n\t\t\treturn action.currentTheme.stylesheet;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the current global styles id.\n *\n * @param {string|undefined} state  Current state.\n * @param {Object}           action Dispatched action.\n *\n * @return {string|undefined} Updated state.\n */\nexport function currentGlobalStylesId( state = undefined, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_CURRENT_GLOBAL_STYLES_ID':\n\t\t\treturn action.id;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the theme base global styles.\n *\n * @param {Record<string, object>} state  Current state.\n * @param {Object}                 action Dispatched action.\n *\n * @return {Record<string, object>} Updated state.\n */\nexport function themeBaseGlobalStyles( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_THEME_GLOBAL_STYLES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.stylesheet ]: action.globalStyles,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the theme global styles variations.\n *\n * @param {Record<string, object>} state  Current state.\n * @param {Object}                 action Dispatched action.\n *\n * @return {Record<string, object>} Updated state.\n */\nexport function themeGlobalStyleVariations( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_THEME_GLOBAL_STYLE_VARIATIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.stylesheet ]: action.variations,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nconst withMultiEntityRecordEdits = ( reducer ) => ( state, action ) => {\n\tif ( action.type === 'UNDO' || action.type === 'REDO' ) {\n\t\tconst { stackedEdits } = action;\n\n\t\tlet newState = state;\n\t\tstackedEdits.forEach(\n\t\t\t( { kind, name, recordId, property, from, to } ) => {\n\t\t\t\tnewState = reducer( newState, {\n\t\t\t\t\ttype: 'EDIT_ENTITY_RECORD',\n\t\t\t\t\tkind,\n\t\t\t\t\tname,\n\t\t\t\t\trecordId,\n\t\t\t\t\tedits: {\n\t\t\t\t\t\t[ property ]: action.type === 'UNDO' ? from : to,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t);\n\t\treturn newState;\n\t}\n\n\treturn reducer( state, action );\n};\n\n/**\n * Higher Order Reducer for a given entity config. It supports:\n *\n *  - Fetching\n *  - Editing\n *  - Saving\n *\n * @param {Object} entityConfig Entity config.\n *\n * @return {AnyFunction} Reducer.\n */\nfunction entity( entityConfig ) {\n\treturn compose( [\n\t\twithMultiEntityRecordEdits,\n\n\t\t// Limit to matching action type so we don't attempt to replace action on\n\t\t// an unhandled action.\n\t\tifMatchingAction(\n\t\t\t( action ) =>\n\t\t\t\taction.name &&\n\t\t\t\taction.kind &&\n\t\t\t\taction.name === entityConfig.name &&\n\t\t\t\taction.kind === entityConfig.kind\n\t\t),\n\n\t\t// Inject the entity config into the action.\n\t\treplaceAction( ( action ) => {\n\t\t\treturn {\n\t\t\t\t...action,\n\t\t\t\tkey: entityConfig.key || DEFAULT_ENTITY_KEY,\n\t\t\t};\n\t\t} ),\n\t] )(\n\t\tcombineReducers( {\n\t\t\tqueriedData: queriedDataReducer,\n\n\t\t\tedits: ( state = {}, action ) => {\n\t\t\t\tswitch ( action.type ) {\n\t\t\t\t\tcase 'RECEIVE_ITEMS':\n\t\t\t\t\t\tconst context = action?.query?.context ?? 'default';\n\t\t\t\t\t\tif ( context !== 'default' ) {\n\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst nextState = { ...state };\n\n\t\t\t\t\t\tfor ( const record of action.items ) {\n\t\t\t\t\t\t\tconst recordId = record[ action.key ];\n\t\t\t\t\t\t\tconst edits = nextState[ recordId ];\n\t\t\t\t\t\t\tif ( ! edits ) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst nextEdits = Object.keys( edits ).reduce(\n\t\t\t\t\t\t\t\t( acc, key ) => {\n\t\t\t\t\t\t\t\t\t// If the edited value is still different to the persisted value,\n\t\t\t\t\t\t\t\t\t// keep the edited value in edits.\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t// Edits are the \"raw\" attribute values, but records may have\n\t\t\t\t\t\t\t\t\t\t// objects with more properties, so we use `get` here for the\n\t\t\t\t\t\t\t\t\t\t// comparison.\n\t\t\t\t\t\t\t\t\t\t! fastDeepEqual(\n\t\t\t\t\t\t\t\t\t\t\tedits[ key ],\n\t\t\t\t\t\t\t\t\t\t\trecord[ key ]?.raw ?? record[ key ]\n\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t// Sometimes the server alters the sent value which means\n\t\t\t\t\t\t\t\t\t\t// we need to also remove the edits before the api request.\n\t\t\t\t\t\t\t\t\t\t( ! action.persistedEdits ||\n\t\t\t\t\t\t\t\t\t\t\t! fastDeepEqual(\n\t\t\t\t\t\t\t\t\t\t\t\tedits[ key ],\n\t\t\t\t\t\t\t\t\t\t\t\taction.persistedEdits[ key ]\n\t\t\t\t\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tacc[ key ] = edits[ key ];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( Object.keys( nextEdits ).length ) {\n\t\t\t\t\t\t\t\tnextState[ recordId ] = nextEdits;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdelete nextState[ recordId ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn nextState;\n\n\t\t\t\t\tcase 'EDIT_ENTITY_RECORD':\n\t\t\t\t\t\tconst nextEdits = {\n\t\t\t\t\t\t\t...state[ action.recordId ],\n\t\t\t\t\t\t\t...action.edits,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tObject.keys( nextEdits ).forEach( ( key ) => {\n\t\t\t\t\t\t\t// Delete cleared edits so that the properties\n\t\t\t\t\t\t\t// are not considered dirty.\n\t\t\t\t\t\t\tif ( nextEdits[ key ] === undefined ) {\n\t\t\t\t\t\t\t\tdelete nextEdits[ key ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t[ action.recordId ]: nextEdits,\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t},\n\n\t\t\tsaving: ( state = {}, action ) => {\n\t\t\t\tswitch ( action.type ) {\n\t\t\t\t\tcase 'SAVE_ENTITY_RECORD_START':\n\t\t\t\t\tcase 'SAVE_ENTITY_RECORD_FINISH':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t[ action.recordId ]: {\n\t\t\t\t\t\t\t\tpending:\n\t\t\t\t\t\t\t\t\taction.type === 'SAVE_ENTITY_RECORD_START',\n\t\t\t\t\t\t\t\terror: action.error,\n\t\t\t\t\t\t\t\tisAutosave: action.isAutosave,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t},\n\n\t\t\tdeleting: ( state = {}, action ) => {\n\t\t\t\tswitch ( action.type ) {\n\t\t\t\t\tcase 'DELETE_ENTITY_RECORD_START':\n\t\t\t\t\tcase 'DELETE_ENTITY_RECORD_FINISH':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\t[ action.recordId ]: {\n\t\t\t\t\t\t\t\tpending:\n\t\t\t\t\t\t\t\t\taction.type ===\n\t\t\t\t\t\t\t\t\t'DELETE_ENTITY_RECORD_START',\n\t\t\t\t\t\t\t\terror: action.error,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn state;\n\t\t\t},\n\t\t} )\n\t);\n}\n\n/**\n * Reducer keeping track of the registered entities.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function entitiesConfig( state = rootEntitiesConfig, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ADD_ENTITIES':\n\t\t\treturn [ ...state, ...action.entities ];\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the registered entities config and data.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const entities = ( state = {}, action ) => {\n\tconst newConfig = entitiesConfig( state.config, action );\n\n\t// Generates a dynamic reducer for the entities.\n\tlet entitiesDataReducer = state.reducer;\n\tif ( ! entitiesDataReducer || newConfig !== state.config ) {\n\t\tconst entitiesByKind = newConfig.reduce( ( acc, record ) => {\n\t\t\tconst { kind } = record;\n\t\t\tif ( ! acc[ kind ] ) {\n\t\t\t\tacc[ kind ] = [];\n\t\t\t}\n\t\t\tacc[ kind ].push( record );\n\t\t\treturn acc;\n\t\t}, {} );\n\n\t\tentitiesDataReducer = combineReducers(\n\t\t\tObject.entries( entitiesByKind ).reduce(\n\t\t\t\t( memo, [ kind, subEntities ] ) => {\n\t\t\t\t\tconst kindReducer = combineReducers(\n\t\t\t\t\t\tsubEntities.reduce(\n\t\t\t\t\t\t\t( kindMemo, entityConfig ) => ( {\n\t\t\t\t\t\t\t\t...kindMemo,\n\t\t\t\t\t\t\t\t[ entityConfig.name ]: entity( entityConfig ),\n\t\t\t\t\t\t\t} ),\n\t\t\t\t\t\t\t{}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tmemo[ kind ] = kindReducer;\n\t\t\t\t\treturn memo;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t)\n\t\t);\n\t}\n\n\tconst newData = entitiesDataReducer( state.records, action );\n\n\tif (\n\t\tnewData === state.records &&\n\t\tnewConfig === state.config &&\n\t\tentitiesDataReducer === state.reducer\n\t) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\treducer: entitiesDataReducer,\n\t\trecords: newData,\n\t\tconfig: newConfig,\n\t};\n};\n\n/**\n * @typedef {Object} UndoStateMeta\n *\n * @property {number} list   The undo stack.\n * @property {number} offset Where in the undo stack we are.\n * @property {Object} cache  Cache of unpersisted edits.\n */\n\n/** @typedef {Array<Object> & UndoStateMeta} UndoState */\n\n/**\n * @type {UndoState}\n *\n * @todo Given how we use this we might want to make a custom class for it.\n */\nconst UNDO_INITIAL_STATE = { list: [], offset: 0 };\n\n/**\n * Reducer keeping track of entity edit undo history.\n *\n * @param {UndoState} state  Current state.\n * @param {Object}    action Dispatched action.\n *\n * @return {UndoState} Updated state.\n */\nexport function undo( state = UNDO_INITIAL_STATE, action ) {\n\tconst omitPendingRedos = ( currentState ) => {\n\t\treturn {\n\t\t\t...currentState,\n\t\t\tlist: currentState.list.slice(\n\t\t\t\t0,\n\t\t\t\tcurrentState.offset || undefined\n\t\t\t),\n\t\t\toffset: 0,\n\t\t};\n\t};\n\n\tconst appendCachedEditsToLastUndo = ( currentState ) => {\n\t\tif ( ! currentState.cache ) {\n\t\t\treturn currentState;\n\t\t}\n\n\t\tlet nextState = {\n\t\t\t...currentState,\n\t\t\tlist: [ ...currentState.list ],\n\t\t};\n\t\tnextState = omitPendingRedos( nextState );\n\t\tconst previousUndoState = nextState.list.pop();\n\t\tconst updatedUndoState = currentState.cache.reduce(\n\t\t\tappendEditToStack,\n\t\t\tpreviousUndoState\n\t\t);\n\t\tnextState.list.push( updatedUndoState );\n\n\t\treturn {\n\t\t\t...nextState,\n\t\t\tcache: undefined,\n\t\t};\n\t};\n\n\tconst appendEditToStack = (\n\t\tstack = [],\n\t\t{ kind, name, recordId, property, from, to }\n\t) => {\n\t\tconst existingEditIndex = stack?.findIndex(\n\t\t\t( { kind: k, name: n, recordId: r, property: p } ) => {\n\t\t\t\treturn (\n\t\t\t\t\tk === kind && n === name && r === recordId && p === property\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\tconst nextStack = [ ...stack ];\n\t\tif ( existingEditIndex !== -1 ) {\n\t\t\t// If the edit is already in the stack leave the initial \"from\" value.\n\t\t\tnextStack[ existingEditIndex ] = {\n\t\t\t\t...nextStack[ existingEditIndex ],\n\t\t\t\tto,\n\t\t\t};\n\t\t} else {\n\t\t\tnextStack.push( {\n\t\t\t\tkind,\n\t\t\t\tname,\n\t\t\t\trecordId,\n\t\t\t\tproperty,\n\t\t\t\tfrom,\n\t\t\t\tto,\n\t\t\t} );\n\t\t}\n\t\treturn nextStack;\n\t};\n\n\tswitch ( action.type ) {\n\t\tcase 'CREATE_UNDO_LEVEL':\n\t\t\treturn appendCachedEditsToLastUndo( state );\n\n\t\tcase 'UNDO':\n\t\tcase 'REDO': {\n\t\t\tconst nextState = appendCachedEditsToLastUndo( state );\n\t\t\treturn {\n\t\t\t\t...nextState,\n\t\t\t\toffset: state.offset + ( action.type === 'UNDO' ? -1 : 1 ),\n\t\t\t};\n\t\t}\n\n\t\tcase 'EDIT_ENTITY_RECORD': {\n\t\t\tif ( ! action.meta.undo ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\tconst edits = Object.keys( action.edits ).map( ( key ) => {\n\t\t\t\treturn {\n\t\t\t\t\tkind: action.kind,\n\t\t\t\t\tname: action.name,\n\t\t\t\t\trecordId: action.recordId,\n\t\t\t\t\tproperty: key,\n\t\t\t\t\tfrom: action.meta.undo.edits[ key ],\n\t\t\t\t\tto: action.edits[ key ],\n\t\t\t\t};\n\t\t\t} );\n\n\t\t\tif ( action.meta.undo.isCached ) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tcache: edits.reduce( appendEditToStack, state.cache ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet nextState = omitPendingRedos( state );\n\t\t\tnextState = appendCachedEditsToLastUndo( nextState );\n\t\t\tnextState = { ...nextState, list: [ ...nextState.list ] };\n\t\t\t// When an edit is a function it's an optimization to avoid running some expensive operation.\n\t\t\t// We can't rely on the function references being the same so we opt out of comparing them here.\n\t\t\tconst comparisonUndoEdits = Object.values(\n\t\t\t\taction.meta.undo.edits\n\t\t\t).filter( ( edit ) => typeof edit !== 'function' );\n\t\t\tconst comparisonEdits = Object.values( action.edits ).filter(\n\t\t\t\t( edit ) => typeof edit !== 'function'\n\t\t\t);\n\t\t\tif ( ! isShallowEqual( comparisonUndoEdits, comparisonEdits ) ) {\n\t\t\t\tnextState.list.push( edits );\n\t\t\t}\n\n\t\t\treturn nextState;\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing embed preview data.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function embedPreviews( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_EMBED_PREVIEW':\n\t\t\tconst { url, preview } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ url ]: preview,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * State which tracks whether the user can perform an action on a REST\n * resource.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function userPermissions( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_USER_PERMISSION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.key ]: action.isAllowed,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning autosaves keyed by their parent's post id.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function autosaves( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_AUTOSAVES':\n\t\t\tconst { postId, autosaves: autosavesData } = action;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ postId ]: autosavesData,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport function blockPatterns( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_BLOCK_PATTERNS':\n\t\t\treturn action.patterns;\n\t}\n\n\treturn state;\n}\n\nexport function blockPatternCategories( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_BLOCK_PATTERN_CATEGORIES':\n\t\t\treturn action.categories;\n\t}\n\n\treturn state;\n}\n\nexport function navigationFallbackId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_NAVIGATION_FALLBACK_ID':\n\t\t\treturn action.fallbackId;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer managing the theme global styles revisions.\n *\n * @param {Record<string, object>} state  Current state.\n * @param {Object}                 action Dispatched action.\n *\n * @return {Record<string, object>} Updated state.\n */\nexport function themeGlobalStyleRevisions( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_THEME_GLOBAL_STYLE_REVISIONS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.currentId ]: action.revisions,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tterms,\n\tusers,\n\tcurrentTheme,\n\tcurrentGlobalStylesId,\n\tcurrentUser,\n\tthemeGlobalStyleVariations,\n\tthemeBaseGlobalStyles,\n\tthemeGlobalStyleRevisions,\n\ttaxonomies,\n\tentities,\n\tundo,\n\tembedPreviews,\n\tuserPermissions,\n\tautosaves,\n\tblockPatterns,\n\tblockPatternCategories,\n\tnavigationFallbackId,\n} );\n"],"mappings":"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"}