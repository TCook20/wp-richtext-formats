{#

  @macro
  Summary Icon macros
  @author Jason Rollins rollinsj@missouri.edu

  @uses https://material.io/resources/icons/

  @copyright University of Missouri 2018

#}

{#

  Icon
  Base icon component

  @uses   AppendClasses, AddAttributes from @miz/utilties/utils.twig

  @deprecated As of 1.0.0. Please use the Icon component below, instead.
    A new, svg macro will be available in a future release.

  @param  {object}    options
  @param  {string}    ├─ options.class
  @param  {object}    ├─ options.attributes
  @param  {string}    └─ options.name (Required) Choose the icon you want based on the MDI documentation.

#}
{% macro Icon( options ) %}
  {%- spaceless %}

    {# Imports #}
    {% from '@miz/utilities/twig/utils.twig' import AppendClasses as appendClasses %}
    {% from '@miz/utilities/twig/utils.twig' import AddAttributes as addAttributes %}

    {# Parameters #}
    {% set iconClass      = 'miz-icon material-icons' %}
    {% set iconClass      = options.class ? appendClasses( iconClass, options.class ) : iconClass %}
    {% set iconAttributes = options.attributes ? addAttributes( options.attributes ) %}
    {% set iconName       = options.name %}

  {% endspaceless -%}

  {# Output #}
  <i class="{{ iconClass }}">{{ iconName }}</i>

{% endmacro %}

{#

  IconsSVG
  Previously used SVG icon component

  @uses   AppendClasses, AddAttributes from @miz/utilties/utils.twig

  @deprecated As of 1.0.0. Please use the Icon component below, instead.
    A new, svg macro will be available in a future release.

  @param  {object}    options
  @param  {string}    ├─ options.class
  @param  {object}    ├─ options.attributes
  @param  {string}    ├─ options.xlink (Required)
  @param  {string}    └─ options.spriteId (Required)

#}
{% macro IconSVG( options ) %}
  {%- spaceless %}

    {# Imports #}
    {% from '@miz/utilities/twig/utils.twig' import AppendClasses as appendClasses %}
    {% from '@miz/utilities/twig/utils.twig' import AddAttributes as addAttributes %}

    {# Parameters #}
    {% set iconsvgClass      = 'miz-icon miz-icon__svg' %}
    {% set iconsvgClass      = options.class ? appendClasses( iconsvgClass, options.class ) : iconsvgClass %}
    {% set iconsvgAttributes = options.attributes ? addAttributes( options.attributes ) %}
    {% set iconsvgXlink      = options.xlink   ?: '/images/icons/svg/sprite.symbol.svg' %}
    {% set iconsvgName   = options.name ?: '' %}

  {% endspaceless -%}

  {# Output #}
  <svg class="{{ iconsvgClass }}" aria-hidden="true"{{ iconsvgAttributes }}>
    <use xlink:href="{{ iconsvgXlink }}#{{ iconsvgName }}"></use>
  </svg>

{%- endmacro %}
