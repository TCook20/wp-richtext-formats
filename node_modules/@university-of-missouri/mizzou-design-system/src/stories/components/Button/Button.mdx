import { Title, Description, Primary, ArgsTable, PRIMARY_STORY } from '@storybook/addon-docs'
import { StatusGroup } from 'SB/blocks/ComponentStatus/ComponentStatus.tsx'
import { status } from 'Components/Button/config.json'

<StatusGroup statuses={ status } />

<Title />

<Description />

<Primary />

<ArgsTable story={PRIMARY_STORY} />

## Twig

- [Usage](#usage-)
- [Accessibility](#accessibility-)
- **Macro reference**
  - [Button](#button-options-)
  - [AnchorButton](#anchorbutton-options-)
  - [ButtonWithIcon](#buttonwithicon-iconoptions-buttonoptions-)

### Usage

Import `buttons.twig` and the macro, set your `options` and call the macro to output:

```twig
{% from "@miz/components/button/button.twig" import Button as button %}

{%- set myButtonOptions = {
  "text":   "My button",
  "type":   "submit",
  "class":  "miz-button--primary"
} -%}

{{ button( myButtonOptions ) }}
```

The above code will output:

```html
<!-- Button output -->
<button class="miz-button miz-button--primary" type="submit">My button</button>
```

See the **View** tab for each button variation to see an example of how it is being used.

### Accessibility

Buttons **must** have a discernible name for screenreaders. The `<button>` element can easily be made accessible by adding text that describes the button's use.

Our macros are made accessible easily by passing a value to the macro with the `text` parameter. Aria attributes can be added, if necessary, by using the `attributes` parameter.

```twig
{%- set ariaButtonExample = {
  "text":   "Submit",
  "attributes": {
    "aria-label": "Submit"
  }
} -%}
```

> _See https://dequeuniversity.com/rules/axe/3.2/button-name for more information._

### Macro reference

#### `Button( options )`

This is the default button you should use. Do not use this macro if you are simply wanting a link styled as a button; use the `AnchorButton()` macro instead.

| Param        | Default      | Values | Description                               |
| ------------ | ------------ | ------ | ----------------------------------------- |
| `class`      | `miz-button` | String | Additional classes appended to the button |
| `attributes` | `null`       | Object | Attributes to be applied to the button    |
| `type`       | `button`     | String | One of `button`, `submit`, or `reset`     |
| `text`       | `Button`     | String | The text to be displayed on the button    |

#### `AnchorButton( options )`

Our `.miz-button` classes are primarily meant to be used with a `<button>` element. You _can_ use these classes on `<a>` or `<input>` elements (though some browsers may apply a slightly different rendering).

When using button classes on `<a>` elements that are used to trigger functionality give these links a `role="button"` attribute to appropriately convey their purpose to screen readers.

> **Note:** While it may not break functionality to use the `.miz-button` classes on an `<a>` tag, consider whether a simple link without the class may serve you just as well. Buttons _should_ convey a level of interactivity to the user that normal links to other webpages do not.

| Param        | Default         | Values | Description                                      |
| ------------ | --------------- | ------ | ------------------------------------------------ |
| `class`      | `miz-button`    | String | Additional classes appended to the anchor button |
| `attributes` | `null`          | Object | Attributes to be applied to the anchor button    |
| `href`       | `#`             | String | The URL for the anchor button                    |
| `text`       | `Anchor button` | String | The text to be displayed in the anchor button    |

#### `ButtonWithIcon( iconOptions, buttonOptions )`

If you need an [Icon](/components/detail/miz-icons--sizes.html) placed within the button, use the `ButtonWithIcon()` [macro](/components/detail/miz-buttons--icon.html) and pass an additional Icon object to the macro along with your Button options.

> **Note:** As of the current release, this macro only supports placing the Icon in front of the text and not the reverse. If necessary, we will provide this variant in a future release.

`iconOptions`

| Param        | Default            | Values | Description                                                                                 |
| ------------ | ------------------ | ------ | ------------------------------------------------------------------------------------------- |
| `class`      | `miz-icon--button` | String | Additional classes appended to the button                                                   |
| `attributes` | `null`             | Object | Attributes to be applied to the button                                                      |
| `name`       | `''`               | String | Name of the [MDI](https://material.io/resources/icons/?style=baseline) icon you want to use |

`buttonOptions`

| Param        | Default            | Values | Description                               |
| ------------ | ------------------ | ------ | ----------------------------------------- |
| `class`      | `miz-button--icon` | String | Additional classes appended to the button |
| `attributes` | `null`             | Object | Attributes to be applied to the button    |
| `type`       | `button`           | String | One of `button`, `submit`, or `reset`     |
| `text`       | `Button`           | String | The text to be displayed on the button    |
