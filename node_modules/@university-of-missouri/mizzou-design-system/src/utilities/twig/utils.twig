{#
  AppendClasses
  Helper to append a supplied string of classes to a current string of classes

  @param {string} currentClasses
  @param {string} incomingClasses

#}
{% macro AppendClasses( currentClasses, incomingClasses ) %}
  {{- incomingClasses ? (currentClasses ~ ' ' ~ incomingClasses)|trim : currentClasses|trim -}}
{% endmacro %}

{#
  AddAttributes

  @param {object} attributes

 #}
{% macro AddAttributes( attributes ) %}
  {%- for attribute, value in attributes if attributes is iterable %} {{ attribute }}="{{ value }}"{% endfor -%}
{% endmacro %}

{#
  CreateMenuItemLink
  Helper to create a list of menu item links

  @param {object} defaults
  @param {object} options

#}
{% macro CreateMenuItemLink( defaults, options) %}
  {%- spaceless %}

    {# Parameters #}
    {% set MenuItemLinkClasses    = options.class ?: defaults.class %}
    {% set MenuItemLinkText       = options.text    ?: defaults.text  %}
    {% set MenuItemLinkHref       = options.href    ?: defaults.href   %}
    {% set MenuItemLinkAttributes = options.attributes ?: false %}
    {% set MenuItemLinkAttributesDefaults = "" %}
    {% set MenuItemLinkAttributes = MenuItemLinkAttributes ? MenuItemLinkAttributes|merge(MenuItemLinkAttributesDefaults) : MenuItemLinkAttributesDefaults %}

    {# Compile link attributes #}
    {% if MenuItemLinkAttributes -%}
      {% set MenuItemLinkAttributes -%}
        {% for attribute, value in MenuItemLinkAttributes -%}
          {{ ' ' ~ attribute ~ '="' ~ value ~ '"' }}
        {%- endfor %}
      {%- endset %}
    {%- endif %}

  {% endspaceless -%}

  <a href="{{ MenuItemLinkHref }}" class="{{ MenuItemLinkClasses }}"{{ MenuItemLinkAttributes }}>{{ MenuItemLinkText }}</a>
{% endmacro %}
