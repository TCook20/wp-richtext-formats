@use 'sass:math';
@import 'tokens/tokens';
@import 'base/variables';
@import 'mixins/breakpoints';
@import 'mixins/layout';

/// Repeats a string the specifed number of times
///
/// @name repeat-string
/// @param {string} $string
///   The string to repeat.
/// @param {integer (unitless)} $repeat
///   The number of times to repeat the string.
/// @return {string} The string repeated
///
@function repeat-string($string, $repeat) {
  $repeated-string: '';

  @for $i from 1 through $repeat {
    $repeated-string: $repeated-string + ' ' + $string;
  }

  @return $repeated-string;
}

@supports (display: grid) {
  .miz-grid--content-aside {
    /* stylelint-disable named-grid-areas-no-invalid */
    grid-template-areas:
      'margin-left #{repeat-string('content', 12)} margin-right'
      'margin-left #{repeat-string('aside', 12)} margin-right';

    @include media-breakpoint-up(lg) {
      grid-template-areas: 'margin-left #{repeat-string('content', 8)} #{repeat-string('aside', 4)} margin-right';
    }

    @include media-breakpoint-up(xl) {
      grid-template-areas: 'margin-left #{repeat-string('content', 9)} #{repeat-string('aside', 3)} margin-right';
    }
    /* stylelint-enable */

    .miz-grid__content {
      grid-area: content;
    }

    .miz-grid__aside {
      grid-area: aside;
    }
  }
}
