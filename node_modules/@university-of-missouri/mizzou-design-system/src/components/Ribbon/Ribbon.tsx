import * as React from 'react'
import DrupalAttribute from 'drupal-attribute'
import classNames from 'classnames'

import LinkList from 'Components/LinkList/LinkList'
import SearchForm from 'Components/InputGroup/Search/Search'
import Signature, { Logo, Wordmark } from 'Components/Signature/Signature'

export interface RibbonProps {
  attributes?: DrupalAttribute
  linkList?: any
}

const Ribbon = ({ attributes = new DrupalAttribute(''), linkList }: RibbonProps): JSX.Element => {
  const RibbonAttributes = {
    className: classNames('miz-ribbon', attributes.get('class')),
  }

  attributes.forEach((value, key) => {
    if (key !== 'class') {
      RibbonAttributes[key] = value
    }
  })

  return (
    <div {...RibbonAttributes}>
      <div className="miz-ribbon__signature">
        <Signature size="small" reverse={true}>
          <Logo />
          <Wordmark />
        </Signature>
      </div>

      {linkList && (
        <LinkList
          layout={'inline'}
          list={linkList}
          attributes={attributes.addClass('miz-ribbon__link-list')}
        />
      )}

      <div className="miz-ribbon__search">
        <SearchForm />
      </div>
    </div>
  )
}

export default Ribbon
