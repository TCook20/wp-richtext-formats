import React from 'react'
import classNames from 'classnames'
import { AnchorButton } from 'Components/Button/Button'
import NewsCard from 'Components/NewsCard/NewsCard'

export interface FeaturedNewsProps {
  title: string | React.ReactNode
  kicker?: string | React.ReactNode
  posts: any
  buttons?: any
}

const FeaturedNews = ({
  title = 'Featured News',
  kicker,
  posts,
  buttons,
}: FeaturedNewsProps): JSX.Element => {
  let buttonGroup
  let newsGroup

  const sectionClass = classNames(
    'miz-layer',
    'miz-layer--brand',
    'miz-stack-sandwich--xl',
    'miz-main-grid__full',
  )

  if (buttons) {
    buttonGroup = buttons.map((button, i) => (
      <AnchorButton branded={true} secondary={true} link={button.link} key={i}>
        {button.title}
      </AnchorButton>
    ))
  }

  if (posts) {
    newsGroup = posts.map((post, i) => (
      <NewsCard
        key={i}
        title={post.title}
        subtitle={post.subtitle}
        topic={post.topic}
        image={post.image}
        links={post.links}
        branded={post.branded}
        theme={post.theme}
      >
        {post.content}
      </NewsCard>
    ))
  }

  return (
    <section className={sectionClass}>
      <div className="miz-container">
        <header className="miz-layer__header miz-layer__header--center">
          {kicker && <p className="miz-layer__kicker">{kicker}</p>}
          <h2 className="miz-layer__title">{title}</h2>
        </header>
        <div className="miz-layer__content">
          {posts && <div className="miz-card-deck">{newsGroup}</div>}
          {buttons && <div className="miz-layer__content--center">{buttonGroup}</div>}
        </div>
      </div>
    </section>
  )
}

export default FeaturedNews
