# @university-of-missouri/eslint-config

## Summary

This package provides the Mizzou Digital Service `.eslintrc` as an extensible shared config. It requires our [Prettier config](https://gitlab.com/university-of-missouri/mizzou-digital/miz-ds/prettier-config). If installed properly, developers should not need to set up their own formatters or linters for JavaScript-based development.

### What does it do?

This package will provide formatting via our prettier-config and linting via ESLint for JavaScript (ES2021, .js) and React (.jsx).

If you need to also format and lint Typescript files you will need to add this package ‚û°Ô∏è [LINK TO COME]() ‚¨ÖÔ∏è

### Linting vs. Formatting

It's easy to get confused as to why there are two different things doing sort of the same thing. Basically there are two types of linting rules: formatting and code-quality[^prettier-linters-formatters].

[^prettier-linters-formatters]: https://prettier.io/docs/en/comparison.html

- [ESLint](https://eslint.org/) is for **linting** defines the code-quality conventions and helps catch bugs.
- [Prettier](https://prettier.io/) is for **formatting** and is used to auto-format based on the Prettier and ESLint rules


## Getting started

### Prerequisites

Gotta have a project that needs it.

### ‚öôÔ∏è Installation

Note: Depending on the project, run either the `npm` or `yarn` commands below. **Do not** run both.

Install the dependencies.

```shell
# ESLint and Prettier
npm install --save-dev eslint prettier
yarn add --dev eslint prettier

# Configs
npm install --save-dev eslint-config-airbnb-base eslint-config-prettier
yarn add --dev eslint-config-airbnb-base eslint-config-prettier

# Plugins
npm install --save-dev eslint-plugin-import eslint-plugin-prettier eslint-plugin-react eslint-plugin-react-hooks
yarn add --dev eslint-plugin-import eslint-plugin-prettier eslint-plugin-react eslint-plugin-react-hooks
```

üõë Make sure you've set up your `.npmrc` file with your deploy token before you install any `@university-of-missouri` packages.

Install our shareable configs:

```shell
npm install --save-dev @university-of-missouri/eslint-config @university-of-missouri/prettier-config
yarn add --dev @university-of-missouri/eslint-config @university-of-missouri/prettier-config
```

### üéõ Wiring things up

Add the following lines to your `package.json` file:

```json
// package.json
{
  // ...
  "eslintConfig": {
    "extends": [
        "@university-of-missouri/eslint-config"
    ]
  },
  "prettier": "@university-of-missouri/prettier-config"
  // ...
}
```

#### Pragma

The last step is to add "pragma" to the beginning of the files you want to be formatted/linted. This only applies to JavaScript and React files.

```js
/**
 * You must include the following line in the frontmatter of your file
 * 
 * @format
 */
```

### üß™ Testing

To make sure everything is working properly, now you can run eslint or prettier on the command line to see if works. Remember to use either `npx` or `yarn` commands depending on which package manager the project uses.

```shell
# Prettier
npx prettier --check path/to/file.js
yarn prettier --check path/to/file.js

# ESLint
npx eslint path/to/file.js
yarn eslint path/to/file.js
```

Replace the `path/to/file.js` portion with a file of your own and run the command. If nothing errors, you'll get nothing back. If there are any warnings or errors you'll see feedback like this:

```shell
# Prettier output
Checking formatting...
[warn] path/to/file.js
[warn] Code style issues found in the above file. Forgot to run Prettier?

# ESLint output
/path/to/file.js
  16:1   warning  Unexpected console statement          no-console
  17:1   warning  Unexpected console statement          no-console
  19:10  error    'isTruthy' is defined but never used  no-unused-vars
  20:3   error    Unexpected 'debugger' statement       no-debugger

‚úñ 4 problems (2 errors, 2 warnings)
```

Neither of these commands should affect the files. It will just check them and let you know everything's working. To clean things up, you'll need to either run the tools normally OR integrate with your IDE (recommended).

## IDE Integration

[VS Code integration](docs/vscode.md) is handled with vetted extensions and a specific `.code-workspace` setup.

If you need an integration other than VS Code, let me know.
